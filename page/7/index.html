<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>WalterJ726</title>


    <meta property="og:type" content="website">
<meta property="og:title" content="WalterJ726">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="WalterJ726">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="WalterJ726">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="WalterJ726" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/WalterJ726">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/21/并查集/" class="image is-7by1">
            <img class="thumbnail" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1571550143261&amp;di=9d312602223e3f392eb6769071f219b4&amp;imgtype=0&amp;src=http%3A%2F%2Ficpc.kateb.edu.af%2Fassets%2Fimg%2Fsponsors%2Facm_new.png" alt="并查集">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-21T03:32:13.856Z">2019-10-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/高级数据结构/">高级数据结构</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    25 minutes read (About 3707 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/21/并查集/">并查集</a>
            
        </h1>
        <div class="content">
            <h1 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>我们来思考一个问题，如果你想知道某个人的boss是谁你会怎么做？</p>
<p>有些人会说，直接问那个人啊。那如果这个人不知道自己的boss呢？</p>
<p>聪明的你可能已经想到了，我们可以先询问他在哪个班，然后通过他在的班知道在哪个学院，通过在哪个学院知道它直属的领导是谁。</p>
<p>例如：<code>2018级杭电计算机学院1班</code></p>
<p>这样分开来找就可以比较快速的找到他们所属的领导</p>
<h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><p>我们用它的上一层来标记所属的集合，就像形成了一个部门一样。</p>
<p>通过他们的班长，组长，老大，来判断是否在同一个区域</p>
<p>其中，<code>set[i]</code>就是领导，每个成员记住领导就好了</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 合并两堆人，把大的领导变为全部人的领导，小的变为间接领导</span></span><br><span class="line">Merge1(a,b)</span><br><span class="line">&#123;   i = min(a,b);</span><br><span class="line">     j = max(a,b);</span><br><span class="line">     <span class="hljs-keyword">for</span> (k=<span class="hljs-number">1</span>; k&lt;=N; k++) &#123;  <span class="hljs-comment">// 整个数组</span></span><br><span class="line">         <span class="hljs-keyword">if</span> (<span class="hljs-built_in">set</span>[k] == j)</span><br><span class="line">            <span class="hljs-built_in">set</span>[k] = i;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="改进"><a href="#改进" class="headerlink" title="改进"></a>改进</h2><p>Q1:</p>
<p><code>background:</code>为什么中央不敢乱动香港，因为台湾没回归啊。如果动了香港的话，就会说明一国两制一点都不好，干脆割裂得了。如果台湾早就回归了的话，一国两制不好那就一国一制</p>
<p>说完屁话之后我们来想一个问题：如果要实现两个国家的合并要怎么办？</p>
<p>假设我们只要做一件事情，那就是把领导人换了就ok了吧？</p>
<p>但是问题又来了，我怎么知道这个人的领导是不是习近平啊？简单啊，严刑拷打，把他们的领导是谁全部问一遍</p>
<p>Q2：</p>
<p>只想修改台湾人，但是拷打了整个世界的人</p>
<p>V1：</p>
<p>原来是14亿人直接受习近平管理，那么我在合并树的时候，直接给这个人分配一个老大，那么我不用把每个人都问一遍，我只要问那些老大他们的最终老大是谁，我就知道国家领导人是谁了。</p>
<p>Q3：</p>
<p>老大的数量就是集合的数量，但是如果形成了长链，就是一个老大只管一个人，这样的话，算法退化到$O(n)$</p>
<p>查找变坏了，因为要查找一条超长的树。</p>
<p>但是合并变好了，比较简单方便</p>
<p>lcy说我可以治好的手，但是腿坏了</p>
<p>v2：</p>
<p>把深度小的合并到深度大的树（确保为树状结构）</p>
<p>随机操作基本也是log级的，数据结构变了导致复杂度变了</p>
<p>Q4</p>
<p>如果我有些信息，其实深度很大，但是我经常要查，而且是经常查那些比较深的，那怎么办</p>
<p>v3：</p>
<p>查找完一个数之后，修改他的老大，这样下次查找可以提高效率，越查找越小</p>
<h2 id="基本操作代码"><a href="#基本操作代码" class="headerlink" title="基本操作代码"></a>基本操作代码</h2><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1050</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> s[maxn];</span><br><span class="line"><span class="hljs-keyword">int</span> height[maxn];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init_set</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">   <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= maxn; i++)&#123;</span><br><span class="line">        s[i] = i;</span><br><span class="line">        <span class="hljs-comment">//height[i]=0;     树的高度</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find_set</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> x==s[x]?x:find_set(s[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">union_set</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;         <span class="hljs-comment">//优化合并操作</span></span><br><span class="line">    x = find_set(x);</span><br><span class="line">    y = find_set(y);</span><br><span class="line">    <span class="hljs-keyword">if</span> (x!=y) s[x]=s[y];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> t, n, m, x, y;</span><br><span class="line">    <span class="hljs-built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="hljs-keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        init_set();</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">            <span class="hljs-built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">            union_set(x, y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)   <span class="hljs-comment">//统计有多少个集</span></span><br><span class="line">            <span class="hljs-keyword">if</span>(s[i] == i)</span><br><span class="line">                ans++;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt;<span class="hljs-built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面这些操作中</p>
<p>查找，合并的复杂度都是<em>O(n)</em></p>
<p>性能比较差，因为左边形成了一个很长的链表，出现了树的退化现象</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/10/21/并查集/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/21/图的最短路径/" class="image is-7by1">
            <img class="thumbnail" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1571550143261&amp;di=9d312602223e3f392eb6769071f219b4&amp;imgtype=0&amp;src=http%3A%2F%2Ficpc.kateb.edu.af%2Fassets%2Fimg%2Fsponsors%2Facm_new.png" alt="图的最短路径">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-21T03:31:03.875Z">2019-10-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/图论/">图论</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    31 minutes read (About 4614 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/21/图的最短路径/">图的最短路径</a>
            
        </h1>
        <div class="content">
            <h1 id="图的最短路"><a href="#图的最短路" class="headerlink" title="图的最短路"></a>图的最短路</h1><h2 id="hdoj-2544"><a href="#hdoj-2544" class="headerlink" title="hdoj  2544"></a>hdoj  2544</h2><p>怎么表示这条边</p>
<h3 id="DFS版本"><a href="#DFS版本" class="headerlink" title="DFS版本"></a>DFS版本</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> n,m,a,b,c,t;</span><br><span class="line"><span class="hljs-keyword">int</span> <span class="hljs-built_in">map</span>[<span class="hljs-number">108</span>][<span class="hljs-number">108</span>],v[<span class="hljs-number">108</span>];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> p)</span><span class="hljs-comment">//x是开始的地方，p是当前的花费</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (p&gt;t) <span class="hljs-keyword">return</span> ; <span class="hljs-comment">//剪枝，搜到一半已经比上一次长了，就没必要再搜了</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (x==n)</span><br><span class="line">    &#123;</span><br><span class="line">        t=p;</span><br><span class="line">        <span class="hljs-keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> i;</span><br><span class="line">    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!v[i]&amp;&amp;<span class="hljs-built_in">map</span>[x][i])</span><br><span class="line">        &#123;</span><br><span class="line">            v[i]=<span class="hljs-number">1</span>;</span><br><span class="line">            dfs(i,p+<span class="hljs-built_in">map</span>[x][i]);</span><br><span class="line">            v[i]=<span class="hljs-number">0</span>;<span class="hljs-comment">//回溯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> i,j;</span><br><span class="line">    <span class="hljs-keyword">while</span> (~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>,&amp;n,&amp;m))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n==<span class="hljs-number">0</span>&amp;&amp;m==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-built_in">memset</span>(<span class="hljs-built_in">map</span>,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(<span class="hljs-built_in">map</span>));</span><br><span class="line">        <span class="hljs-built_in">memset</span>(v,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(v));</span><br><span class="line">        <span class="hljs-keyword">while</span> (m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line">            <span class="hljs-built_in">map</span>[a][b]=<span class="hljs-built_in">map</span>[b][a]=c;<span class="hljs-comment">//用这个来表示边的长度</span></span><br><span class="line">        &#125;</span><br><span class="line">        t=<span class="hljs-number">1000000</span>;</span><br><span class="line">        dfs(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>);</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/10/21/图的最短路径/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/21/递归专题/" class="image is-7by1">
            <img class="thumbnail" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1571550143261&amp;di=9d312602223e3f392eb6769071f219b4&amp;imgtype=0&amp;src=http%3A%2F%2Ficpc.kateb.edu.af%2Fassets%2Fimg%2Fsponsors%2Facm_new.png" alt="递归专题">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-21T03:29:04.057Z">2019-10-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/递推与DP/">递推与DP</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12 minutes read (About 1804 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/21/递归专题/">递归专题</a>
            
        </h1>
        <div class="content">
            <h1 id="递推专题"><a href="#递推专题" class="headerlink" title="递推专题"></a>递推专题</h1><h3 id="hdoj2040-problemA"><a href="#hdoj2040-problemA" class="headerlink" title="hdoj2040 problemA"></a>hdoj2040 problemA</h3><ol>
<li><p>先通过循环找到有多少种组，然后再对这些组合进行排列</p>
</li>
<li><p>用dfs，但是dfs根本就不能决定下一次是走2步还是一步</p>
</li>
<li><p>一个斐波那契数列，为什么是斐波那契数列呢，因为你可以这样想，如果前面的方法全部知道，那么最后一个f(n）的走法，就是f(n-1)+f(n-2)。</p></li></ol>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/10/21/递归专题/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/17/字符串/" class="image is-7by1">
            <img class="thumbnail" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1572408479&amp;di=b0f28dc933dc1ff71e9e8670bef447c4&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Fimg.25pp.com%2Fuploadfile%2Fapp%2Ficon%2F20170104%2F1483526931398795.jpg" alt="字符串">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-17T00:51:53.516Z">2019-10-17</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/String/">String</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    16 minutes read (About 2439 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/17/字符串/">字符串</a>
            
        </h1>
        <div class="content">
            <h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><p>字符串数组一定要提前定义长度</p>
<h1 id="str函数"><a href="#str函数" class="headerlink" title="str函数"></a>str函数</h1><h2 id="strlen"><a href="#strlen" class="headerlink" title="strlen"></a>strlen</h2><p><code>strlen(数组名)</code></p>
<h2 id="strcmp"><a href="#strcmp" class="headerlink" title="strcmp"></a>strcmp</h2><p><code>strcmp</code>比较两个字符串的字母顺序，按照递减来</p>
<p><code>strcmp(数组名1，数组名2)</code> </p>
<h1 id="字符串输入输出"><a href="#字符串输入输出" class="headerlink" title="字符串输入输出"></a>字符串输入输出</h1><h2 id="单字节输入"><a href="#单字节输入" class="headerlink" title="单字节输入"></a>单字节输入</h2><p><code>ch = getchar();</code></p>
<p>防止输入空格，所以在前面加上<code>getchar()</code></p>
<h2 id="puts-和gets-输入输出"><a href="#puts-和gets-输入输出" class="headerlink" title="puts()和gets()输入输出"></a>puts()和gets()输入输出</h2><p><code>gets(str---数组名)</code> 读入一整行，但是如果输入的数据比读入的字符数组大，则会警告</p>
<p><code>puts(str)</code>  直接把某一行输出，但是它会在最后面加上回车</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1005</span>; <span class="hljs-comment">// 这个要加分号</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> n;</span><br><span class="line">    <span class="hljs-keyword">char</span> ch;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="hljs-keyword">while</span> (n--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">char</span>&gt; s;</span><br><span class="line">        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ch = getchar();</span><br><span class="line">            <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'\n'</span> || ch == EOF)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-keyword">while</span> (!s.empty())</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%c"</span>, s.top());</span><br><span class="line">                    s.pop();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'\n'</span> || ch == EOF)</span><br><span class="line">                    <span class="hljs-keyword">break</span>;</span><br><span class="line">                <span class="hljs-built_in">printf</span>(<span class="hljs-string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                s.push(ch);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符串按照ancii码排序"><a href="#字符串按照ancii码排序" class="headerlink" title="字符串按照ancii码排序"></a>字符串按照ancii码排序</h2><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">char</span> a[<span class="hljs-number">100</span>];</span><br><span class="line">    <span class="hljs-keyword">int</span> n, l, j, k, i, tmp;</span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s"</span>, a) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        n = <span class="hljs-built_in">strlen</span>(a);</span><br><span class="line">        <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; n - <span class="hljs-number">1</span>; j++)</span><br><span class="line">        &#123; <span class="hljs-comment">//冒泡</span></span><br><span class="line">            <span class="hljs-keyword">for</span> (k = n - <span class="hljs-number">1</span>; k &gt; j; k--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (a[k] &lt; a[k - <span class="hljs-number">1</span>])</span><br><span class="line">                &#123;</span><br><span class="line">                    tmp = a[k];</span><br><span class="line">                    a[k] = a[k - <span class="hljs-number">1</span>];</span><br><span class="line">                    a[k - <span class="hljs-number">1</span>] = tmp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%c"</span>, a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">char</span> a[<span class="hljs-number">100</span>];</span><br><span class="line">    <span class="hljs-keyword">int</span> n, l, j, k, i, tmp;</span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s"</span>, a) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        n=<span class="hljs-built_in">strlen</span>(a);</span><br><span class="line">        sort(a,a+n+<span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%c"</span>, a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> a[<span class="hljs-number">12</span>] = &#123;<span class="hljs-number">31</span>, <span class="hljs-number">28</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>&#125;;</span><br><span class="line">    <span class="hljs-keyword">int</span> year, month, day;</span><br><span class="line">    <span class="hljs-keyword">while</span> (~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d/%d/%d"</span>, &amp;year, &amp;month, &amp;day))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; month - <span class="hljs-number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum += a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        sum = sum + day;</span><br><span class="line">        <span class="hljs-keyword">if</span> (month &gt; <span class="hljs-number">2</span> &amp;&amp; ((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) <span class="hljs-comment">//判断是几月份和是否是闰年</span></span><br><span class="line">            sum = sum + <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; sum &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">max</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> negative = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> positive = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> zero = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-built_in">string</span> s;</span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">cin</span> &gt;&gt; s)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (s[i] != <span class="hljs-string">' '</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (s[i] - <span class="hljs-string">'0'</span> &gt; <span class="hljs-number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    positive++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (s[i] - <span class="hljs-string">'0'</span> == <span class="hljs-number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    zero++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (s[i] - <span class="hljs-string">'0'</span> &lt; <span class="hljs-number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    negative++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d %d %d\n"</span>, negative, zero, positive);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="hdoj-2072-单词总数"><a href="#hdoj-2072-单词总数" class="headerlink" title="hdoj 2072 单词总数"></a>hdoj 2072 单词总数</h1><p>AC代码</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">10000</span>;</span><br><span class="line"><span class="hljs-built_in">string</span> dic[maxn];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> input; getline(<span class="hljs-built_in">cin</span>, input);)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (input == <span class="hljs-string">"#"</span>)</span><br><span class="line">            <span class="hljs-keyword">break</span>;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-built_in">stringstream</span> ss(input);</span><br><span class="line">            <span class="hljs-built_in">string</span> word;</span><br><span class="line">            <span class="hljs-keyword">while</span> (ss &gt;&gt; word)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> isIn = <span class="hljs-number">0</span>;</span><br><span class="line">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (word == dic[i])</span><br><span class="line">                    &#123;</span><br><span class="line">                        isIn = <span class="hljs-number">1</span>;</span><br><span class="line">                        <span class="hljs-keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!isIn)</span><br><span class="line">                    dic[cnt++] = word;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="getline的判断"><a href="#getline的判断" class="headerlink" title="getline的判断"></a>getline的判断</h2><blockquote>
<p>因为回车输入的是一个换行符，相当于另起一行，所以getline()会把这个空行读到s里面去，你最后输出的当然就是一个空行。<br>但是，要理解这个过程究竟是怎么发生的，题主应该要明白几个概念：<br>（1）eof标志<br>（2）cin的状态<br>while(geline(cin,s))这个语句的执行过程是这样的：<br>先调用getline()函数，getline()将istream cin中的内容读取一行（你输入的是hello world)，保存进string s中，而getline()的返回值就是cin。<br>也就是说，这个循环的判定条件是while(cin)，cin是怎么转化为bool类型进行条件判断的呢？<br>这个判定实际上隐式调用了 !cin.fail()，而fail()这个成员函数被定义在ios_base类里面（这是istream的基类basic_ios的基类）。<br>那么调用fail()返回的是什么？是cin的状态。cin的状态是由4个标志位指示的（关于stream的标志的内容实际上就可以在C++ Primer中找到），分别是badbit（表示流已经崩溃），failbit（表示IO操作失败），eofbit，goodbit。<br>当badbit或者failbit被置位时，fail()会返回true，!fail()结果为false。当遇到文件末端时，eofbit和failbit都会被置位，因此只有碰到Ctrl+Z（Windows下输入即等同文件末端eof），while()条件不再满足，退出。<br>再来看你的操作过程，hello world，回车，Ctrl+Z。所以程序最后这么运行的：<br>hello world被读入s，换行后的空行被读入s，末端标志eof使cin为无效状态，while()判断为假，循环退出。<br>输出s。</p>
</blockquote>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-built_in">string</span> dic[<span class="hljs-number">1005</span>];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-built_in">string</span> input;</span><br><span class="line">    <span class="hljs-keyword">while</span> (getline(<span class="hljs-built_in">cin</span>, input)) <span class="hljs-comment">//while getline不可以</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (input == <span class="hljs-string">"#"</span>)</span><br><span class="line">            <span class="hljs-keyword">break</span>; <span class="hljs-comment">//双引号</span></span><br><span class="line">        <span class="hljs-built_in">string</span> word;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(input)</span></span>;</span><br><span class="line">        <span class="hljs-comment">//ss=input;</span></span><br><span class="line">        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">while</span> (ss &gt;&gt; word)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> isIn = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (word == dic[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    isIn = <span class="hljs-number">1</span>;</span><br><span class="line">                    <span class="hljs-keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!isIn)</span><br><span class="line">                dic[cnt++] = word;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="hdoj-2081-手机短号"><a href="#hdoj-2081-手机短号" class="headerlink" title="hdoj 2081 手机短号"></a>hdoj 2081 手机短号</h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">char</span> number[<span class="hljs-number">15</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> n;</span><br><span class="line">    <span class="hljs-built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="hljs-keyword">char</span> ch;</span><br><span class="line">    ch = getchar();</span><br><span class="line">    <span class="hljs-keyword">while</span> (n--)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        gets(number);</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"6"</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; number[i] != <span class="hljs-string">'\0'</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">5</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-built_in">cout</span> &lt;&lt; number[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="hdoj-2098-考试排名"><a href="#hdoj-2098-考试排名" class="headerlink" title="hdoj 2098 考试排名"></a>hdoj 2098 考试排名</h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> acnum, time;</span><br><span class="line">    <span class="hljs-keyword">char</span> name[<span class="hljs-number">10</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-keyword">int</span> n, m, i, num, wa, ac, x, y;</span><br><span class="line">Stu data[<span class="hljs-number">100000</span>];</span><br><span class="line"><span class="hljs-keyword">char</span> s[<span class="hljs-number">20</span>];</span><br><span class="line"><span class="hljs-keyword">bool</span> pd;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Stu x, Stu y)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (x.acnum &gt; y.acnum)</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (x.acnum == y.acnum &amp;&amp; x.time &lt; y.time)</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (x.acnum == y.acnum &amp;&amp; x.time == y.time &amp;&amp; <span class="hljs-built_in">strcmp</span>(x.name, y.name) &lt;= <span class="hljs-number">0</span>)</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m; <span class="hljs-comment">//考试题目数和罚时分</span></span><br><span class="line">    num = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s"</span>, data[num].name) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        data[num].acnum = <span class="hljs-number">0</span>;</span><br><span class="line">        data[num].time = <span class="hljs-number">0</span>;</span><br><span class="line">        wa = <span class="hljs-number">0</span>;</span><br><span class="line">        ac = <span class="hljs-number">0</span>; <span class="hljs-comment">//初始化</span></span><br><span class="line">        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-built_in">memset</span>(s, <span class="hljs-string">'\0'</span>, <span class="hljs-keyword">sizeof</span>(s));</span><br><span class="line">            pd = <span class="hljs-literal">false</span>;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s"</span>, s);</span><br><span class="line">            <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>] == <span class="hljs-string">'-'</span> || s[<span class="hljs-number">0</span>] == <span class="hljs-string">'0'</span>)</span><br><span class="line">            &#123; <span class="hljs-comment">//没有AC</span></span><br><span class="line">                pd = <span class="hljs-literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (s[<span class="hljs-number">1</span>] == <span class="hljs-string">'('</span> || <span class="hljs-built_in">strlen</span>(s) &gt;= <span class="hljs-number">5</span>)</span><br><span class="line">            &#123; <span class="hljs-comment">//AC了，但是有错误提交</span></span><br><span class="line">                pd = <span class="hljs-literal">true</span>;</span><br><span class="line">                ++ac;</span><br><span class="line">                <span class="hljs-built_in">sscanf</span>(s, <span class="hljs-string">"%d(%d)"</span>, &amp;x, &amp;y); <span class="hljs-comment">//从字符串中读取出x,y.sscanf的一个重要用法</span></span><br><span class="line">                data[num].time += x;</span><br><span class="line">                wa += y;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (pd == <span class="hljs-literal">false</span>)</span><br><span class="line">            &#123; <span class="hljs-comment">//AC且没有错误提交</span></span><br><span class="line">                ++ac;</span><br><span class="line">                <span class="hljs-built_in">sscanf</span>(s, <span class="hljs-string">"%d"</span>, &amp;x);</span><br><span class="line">                data[num].time += x;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data[num].time += wa * m; <span class="hljs-comment">//加上罚时</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (data[num].time &lt; <span class="hljs-number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            data[num].time = <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        data[num].acnum = ac;</span><br><span class="line">        ++num; <span class="hljs-comment">//记录下一个选手</span></span><br><span class="line">    &#125;</span><br><span class="line">    sort(data + <span class="hljs-number">1</span>, data + num, cmp); <span class="hljs-comment">//自定义sort的排序规则</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= num - <span class="hljs-number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%-10s %2d %4d\n"</span>, data[i].name, data[i].acnum, data[i].time); <span class="hljs-comment">//输出名字（10个字符宽），做出的题数（2个字符宽，右对齐）和时间分（4个字符宽，右对齐）。名字、题数和时间分相互之间有一个空格。</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这是一道字符串处理的题目。题目本身没有太高深的算法，只是以表格的形式处理很麻烦。比如出现的116（5），括号的读入和处理。<br>看着解题报告完成的，收获了很多。</p>
<ol>
<li><p><code>STL</code>中的<code>sort</code>排序，自己定义了排序规则<code>cmp</code>函数，可以按照题目的要求进行排序。</p>
</li>
<li><p>这里用到了<code>sscanf</code>的读取的一个技巧。认真分析这里的<code>sscanf</code>的使用。<br><code>sscanf</code>的用法：</p>
<ul>
<li><p>本题：<br><code>sscanf(s,”%d(%d)”,&amp;x,&amp;y);</code>//从字符串中读取出<code>x,y.b</code>.</p>
</li>
<li><p>将字符读入到字符串中</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">sscanf</span>(“<span class="hljs-number">12345</span>”,”%s”,str);</span><br><span class="line"><span class="hljs-built_in">printf</span>(“用法三\nstr = %s\n”,str);</span><br><span class="line">则 str=<span class="hljs-number">12345</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>用结构体解决类似问题，很明显的面向对象的思想。</p>
</li>
<li><p>不要害怕一道题，这题目上次遇见时看都不想看，实际上静下心来看不是很困难。</p>
</li>
</ol>
<p>对了还有一个地方要说明一下，就是解决带有括号的那个地方。下面有一行代码是：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">if</span>(s[<span class="hljs-number">1</span>]==<span class="hljs-string">'('</span>||<span class="hljs-built_in">strlen</span>(s)&gt;=<span class="hljs-number">5</span>)</span><br></pre></td></tr></table></figure>

<p>刚开始没看懂原作者的意图，后来觉得大概是他假设如果此题在AC但是有错误提交的情况下，如果提交的时间在1-9之间，那么s[1]就存储的应该是<code>‘（’</code>，如果提交的时间10-1000的话，那么比如<code>20（3）</code>，字符串的长度至少大于等于5.所以<code>strlen(s)&gt;=5</code></p>
<h2 id="sscanf的用法"><a href="#sscanf的用法" class="headerlink" title="sscanf的用法"></a>sscanf的用法</h2><p>​    在做一道九度上机题时，突然发现sscanf()函数非常有用，就顺便从网上搜集资料整理一下。</p>
<pre><code>sscanf() 的作用：从一个字符串中读进与指定格式相符的数据.</code></pre><p>原型: int sscanf (const char *str,const char * format,……..);</p>
<p>说明： sscanf()会将参数str的字符串根据参数format字符串来转换并格式化数据。转换后的结果存于对应的参数内。</p>
<pre><code>成功则返回参数数目，失败则返回0。</code></pre><p>注意：sscanf与scanf类似，都是用于输入的，只是后者以键盘(stdin)为输入源，前者以固定字符串为输入源。</p>
<p>大家都知道sscanf是一个很好用的函数，利用它可以从字符串中取出整数、浮点数和字符串等等。它的使用方法简单，特别对于整数和浮点数来说。</p>
<p>这里就举几个经常用到的例子来说明他的用法，便于大家深刻理解他的用法.</p>
<p>例子：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">char</span> str[<span class="hljs-number">100</span>];</span><br><span class="line">    <span class="hljs-comment">//用法一：取指定长度的字符串</span></span><br><span class="line">    <span class="hljs-built_in">sscanf</span>(<span class="hljs-string">"12345"</span>, <span class="hljs-string">"%4s"</span>, str);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"用法一\nstr = %s\n"</span>, str);</span><br><span class="line">    <span class="hljs-comment">//用法二：格式化时间</span></span><br><span class="line">    <span class="hljs-keyword">int</span> year, month, day, hour, minute, second;</span><br><span class="line">    <span class="hljs-built_in">sscanf</span>(<span class="hljs-string">"2013/02/13 14:55:34"</span>, <span class="hljs-string">"%d/%d/%d %d:%d:%d"</span>, &amp;year, &amp;month, &amp;day, &amp;hour, &amp;minute, &amp;second);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"用法二\ntime = %d-%d-%d %d:%d:%d\n"</span>, year, month, day, hour, minute, second);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//用法三：读入字符串</span></span><br><span class="line">    <span class="hljs-built_in">sscanf</span>(<span class="hljs-string">"12345"</span>, <span class="hljs-string">"%s"</span>, str);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"用法三\nstr = %s\n"</span>, str);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//用法四：%*d 和 %*s 加了星号 (*) 表示跳过此数据不读入. (也就是不把此数据读入参数中)</span></span><br><span class="line">    <span class="hljs-built_in">sscanf</span>(<span class="hljs-string">"12345acc"</span>, <span class="hljs-string">"%*d%s"</span>, str);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"用法四\nstr = %s\n"</span>, str);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//用法五：取到指定字符为止的字符串。如在下例中，取遇到'+'为止字符串。</span></span><br><span class="line">    <span class="hljs-built_in">sscanf</span>(<span class="hljs-string">"12345+acc"</span>, <span class="hljs-string">"%[^+]"</span>, str);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"用法五\nstr = %s\n"</span>, str);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//用法六：取到指定字符集为止的字符串。如在下例中，取遇到小写字母为止的字符串。</span></span><br><span class="line">    <span class="hljs-built_in">sscanf</span>(<span class="hljs-string">"12345+acc121"</span>, <span class="hljs-string">"%[^a-z]"</span>, str);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"用法六\nstr = %s\n"</span>, str);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">用法一</span><br><span class="line">str = <span class="hljs-number">1234</span></span><br><span class="line">用法二</span><br><span class="line">time = <span class="hljs-number">2013</span><span class="hljs-number">-2</span><span class="hljs-number">-13</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">34</span></span><br><span class="line">用法三</span><br><span class="line">str = <span class="hljs-number">12345</span></span><br><span class="line">用法四</span><br><span class="line">str = acc</span><br><span class="line">用法五</span><br><span class="line">str = <span class="hljs-number">12345</span></span><br><span class="line">用法六</span><br><span class="line">str = <span class="hljs-number">12345</span>+</span><br></pre></td></tr></table></figure>

<h1 id="1062-text-reverse"><a href="#1062-text-reverse" class="headerlink" title="1062 text reverse"></a>1062 text reverse</h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">char</span> s[<span class="hljs-number">1006</span>];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> t;</span><br><span class="line">    <span class="hljs-built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="hljs-keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">char</span>&gt; st;</span><br><span class="line">        gets(s);</span><br><span class="line">        <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= len; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-comment">// 当遇到空格或者碰到回车的时候就输出</span></span><br><span class="line">            <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">' '</span> || i == len)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-keyword">while</span> (!st.empty())</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="hljs-comment">// top是栈顶元素</span></span><br><span class="line">                    <span class="hljs-keyword">char</span> ch = st.top();</span><br><span class="line">                    st.pop();</span><br><span class="line">                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%c"</span>, ch);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (i != len)</span><br><span class="line">                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">" "</span>);</span><br><span class="line">                <span class="hljs-keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                st.push(s[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-built_in">puts</span>(<span class="hljs-string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/14/SQL教程/" class="image is-7by1">
            <img class="thumbnail" src="https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=88104ec20df431ada8df4b6b2a5fc7ca/ac6eddc451da81cb037c289d5366d016082431c3.jpg" alt="">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-14T03:55:57.251Z">2019-10-14</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    16 minutes read (About 2465 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/14/SQL教程/"></a>
            
        </h1>
        <div class="content">
            <h1 id="SQL教程"><a href="#SQL教程" class="headerlink" title="SQL教程"></a>SQL教程</h1><h1 id="SQL简介"><a href="#SQL简介" class="headerlink" title="SQL简介"></a>SQL简介</h1><h2 id="SQL简述以及NoSQL"><a href="#SQL简述以及NoSQL" class="headerlink" title="SQL简述以及NoSQL"></a>SQL简述以及NoSQL</h2><p>你可能还听说过NoSQL数据库，也就是非SQL的数据库，包括MongoDB、Cassandra、Dynamo等等，它们都不是关系数据库。有很多人鼓吹现代Web程序已经无需关系数据库了，只需要使用NoSQL就可以。但事实上，SQL数据库从始至终从未被取代过。回顾一下NoSQL的发展历程：</p>
<ul>
<li>1970: NoSQL = We have no SQL</li>
<li>1980: NoSQL = Know SQL</li>
<li>2000: NoSQL = No SQL!</li>
<li>2005: NoSQL = Not only SQL</li>
<li>2013: NoSQL = No, SQL!</li>
</ul>
<p>今天，SQL数据库仍然承担了各种应用程序的核心数据存储，而NoSQL数据库作为SQL数据库的补充，两者不再是二选一的问题，而是主从关系。所以，无论使用哪种编程语言，无论是Web开发、游戏开发还是手机开发，掌握SQL，是所有软件开发人员所必须的。</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/10/14/SQL教程/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/10/贪心小练习/" class="image is-7by1">
            <img class="thumbnail" src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3089309252,3002371413&amp;fm=26&amp;gp=0.jpg" alt="贪心小练习">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-10T05:03:11.530Z">2019-10-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ACMer/">ACMer</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    13 minutes read (About 1875 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/10/贪心小练习/">贪心小练习</a>
            
        </h1>
        <div class="content">
            <h2 id="贪心小练习"><a href="#贪心小练习" class="headerlink" title="贪心小练习"></a>贪心小练习</h2><h2 id="结构体排序"><a href="#结构体排序" class="headerlink" title="结构体排序"></a>结构体排序</h2><p>首先是结构体的定义</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Wood</span>&#123;</span></span><br><span class="line">    <span class="hljs-built_in">string</span> sth1;</span><br><span class="line">    <span class="hljs-keyword">int</span> sth2;</span><br><span class="line">    <span class="hljs-comment">//struct// </span></span><br><span class="line">    Wood()&#123;&#125; <span class="hljs-comment">//这两个构造函数到底是什么意思</span></span><br><span class="line">    Wood(<span class="hljs-built_in">string</span> n,<span class="hljs-keyword">int</span> s):name(n),sth2(s)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Wood</span> <span class="hljs-title">wood</span>[<span class="hljs-title">number</span>];</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>比较字符串的话就是strcmp(数组名1，数组名2)</p>
<p>反正就是把一个字符型指针变量传进去</p>
</blockquote>
<p>然后是结构体的排序</p>
<figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Wood x,Wood y)</span></span></span><br><span class="line"><span class="hljs-function">    <span class="hljs-comment">//用这个结构体去定义另一个结构体？</span></span></span><br><span class="line">    Wood x 为什么可以看作一个结构体</span><br></pre></td></tr></table></figure>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/10/10/贪心小练习/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/06/算法竞赛入门与进阶/" class="image is-7by1">
            <img class="thumbnail" src="https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike150%2C5%2C5%2C150%2C50/sign=d27ba8a641c2d562e605d8bf8678fb8a/cdbf6c81800a19d8d77d82c33dfa828ba71e46fd.jpg" alt="算法竞赛入门与进阶">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-06T15:03:51.929Z">2019-10-06</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 162 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/06/算法竞赛入门与进阶/">算法竞赛入门与进阶</a>
            
        </h1>
        <div class="content">
            <h1 id="算法竞赛入门与进阶"><a href="#算法竞赛入门与进阶" class="headerlink" title="算法竞赛入门与进阶"></a>算法竞赛入门与进阶</h1><h2 id="输入与输出"><a href="#输入与输出" class="headerlink" title="输入与输出"></a>输入与输出</h2><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d %d"</span>,&amp;a,&amp;b) &amp;&amp; n)</span><br><span class="line">    <span class="hljs-comment">//在以特定元素作为结束符号的时候</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>cin and cout is slowly</p>
</blockquote>
<p>especially when you want to  read many data</p>
<h2 id="struct-the-test-data"><a href="#struct-the-test-data" class="headerlink" title="struct the test data"></a>struct the test data</h2><ol>
<li><p>in a team ,we usually arrange a team member to test tthe data</p>
<blockquote>
<p>here is a example to set the test data</p>
</blockquote>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mytest</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> mytest</span></span><br><span class="line">	freopen(<span class="hljs-string">"text.in"</span>,<span class="hljs-string">"r"</span>,<span class="hljs-built_in">stdin</span>);</span><br><span class="line">	freopen(<span class="hljs-string">"text.out"</span>,<span class="hljs-string">"w"</span>,<span class="hljs-built_in">stdout</span>);</span><br><span class="line"><span class="hljs-meta">#end <span class="hljs-meta-keyword">if</span></span></span><br></pre></td></tr></table></figure>

</li>
</ol>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/10/06/算法竞赛入门与进阶/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-06T15:03:51.838Z">2019-10-06</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    an hour read (About 10703 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/06/汕大acm模板/"></a>
            
        </h1>
        <div class="content">
            <h1 id="汕头大学-ACM-模板"><a href="#汕头大学-ACM-模板" class="headerlink" title="汕头大学 ACM 模板"></a>汕头大学 ACM 模板</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>[TOC]</p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><h3 id="背包问题"><a href="#背包问题" class="headerlink" title="背包问题"></a>背包问题</h3><p>状态：从前 n 个背包中组成重量为 m 的……</p>
<h4 id="01背包"><a href="#01背包" class="headerlink" title="01背包"></a>01背包</h4><p>$O(VN)$ </p>
<p>滚动数组，从右往左。</p>
<h4 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h4><p>$O(VN)$ </p>
<p>滚动数组，从左往右。</p>
<h4 id="多重背包"><a href="#多重背包" class="headerlink" title="多重背包"></a>多重背包</h4><p>$O(V\sum \log M_i)$ </p>
<p>每种物品分解成多个01背包中的物品，每个物品个数分别为1、2、4……个。</p>
<h4 id="可行性多重背包"><a href="#可行性多重背包" class="headerlink" title="可行性多重背包"></a>可行性多重背包</h4><p>$O(VN)$ </p>
<p>状态：用了前$i$种物品填满容量为$j$的背包后，最多还剩下几个第$i$种物品可用。<br>$$<br>dp\left[i\right]\left[j\right]=<br>\begin{cases}M\left[i\right], &amp; \text{if $dp\left[i-1\right]\left[j\right]\geq 0$}\[2ex]<br>\max { dp\left[i\right]\left[j - C\left[i\right]\right] - 1} (C\left[i\right] \leq j \leq V), &amp; \text{if $dp\left[i-1\right]\left[j\right]\lt 0$}<br>\end{cases}<br>$$</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// HDU 2844</span></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line"><span class="hljs-keyword">while</span> (<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &amp;&amp; n) &#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) <span class="hljs-built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) <span class="hljs-built_in">cin</span> &gt;&gt; c[i];</span><br><span class="line">    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(dp));</span><br><span class="line">    dp[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= m; ++j) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (dp[j] &gt;= <span class="hljs-number">0</span>) dp[j] = c[i];</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (j &gt;= a[i]) dp[j] = max(dp[j], dp[j - a[i]] - <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        <span class="hljs-keyword">if</span> (dp[i] &gt;= <span class="hljs-number">0</span>) ++ans;</span><br><span class="line">    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LIS"><a href="#LIS" class="headerlink" title="LIS"></a>LIS</h3><p>$dp[i]$表示长度为$i+1$的上升子序列中末尾元素的最小值，$len$表示当前最长上升子序列的长度；</p>
<p>遍历数组，对于每一个元素，把它替换成尽量长的最长子序列的最后一个元素。</p>
<p>$O(n \log n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line"><span class="hljs-built_in">cin</span> &gt;&gt; n;</span><br><span class="line">dp[len++] = INF;</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    <span class="hljs-built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="hljs-keyword">int</span> pos = lower_bound(dp, dp + len, arr[i]) - dp;</span><br><span class="line">    dp[pos] = arr[i];</span><br><span class="line">    <span class="hljs-keyword">if</span> (pos == len) ++len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">cout</span> &lt;&lt; len &lt;&lt; <span class="hljs-string">'\n'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h3><ol>
<li>某些 dp 的状态可看作分层图，此时转移可用邻接矩阵，并使用矩阵快速幂进行状态转移。（在无权图中，设$A$为图的邻接矩阵，$A^n$为矩阵的 n 次幂，则$A^n$中的元素$(i, j)$表示顶点 i 到顶点 j 的长度为 n 的路径数）</li>
</ol>
<h2 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h2><h3 id="数值分析"><a href="#数值分析" class="headerlink" title="数值分析"></a>数值分析</h3><h4 id="大数运算"><a href="#大数运算" class="headerlink" title="大数运算"></a>大数运算</h4><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="hljs-keyword">import</span> java.math.*;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;</span><br><span class="line">     </span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span>&#123;</span><br><span class="line">        Scanner cin = <span class="hljs-keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="hljs-comment">//使用Sacnner类创建cin对象</span></span><br><span class="line">        BigInteger a, b;<span class="hljs-comment">//创建大数对象</span></span><br><span class="line">        <span class="hljs-keyword">while</span>(cin.hasNext())&#123;</span><br><span class="line">            a = cin.nextBigInteger();</span><br><span class="line">            b = cin.nextBigInteger();</span><br><span class="line">            System.out.println(<span class="hljs-string">"a+b="</span> + a.add(b));             </span><br><span class="line">            System.out.println(<span class="hljs-string">"a-b="</span> + a.subtract(b));             </span><br><span class="line">            System.out.println(<span class="hljs-string">"a*b="</span> + a.multiply(b));             </span><br><span class="line">            System.out.println(<span class="hljs-string">"a/b="</span> + a.divide(b));</span><br><span class="line">            System.out.println(<span class="hljs-string">"a%b="</span> + a.remainder(b));</span><br><span class="line">             </span><br><span class="line">            <span class="hljs-keyword">if</span>(a.compareTo(b) == <span class="hljs-number">0</span>) <span class="hljs-comment">//比较两数的大小</span></span><br><span class="line">                System.out.println(<span class="hljs-string">"a==b"</span>);</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a.compareTo(b) &gt; <span class="hljs-number">0</span>)</span><br><span class="line">                System.out.println(<span class="hljs-string">"a&gt;b"</span>);</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                System.out.println(<span class="hljs-string">"a&lt;b"</span>);</span><br><span class="line">             </span><br><span class="line">            System.out.println(a.abs());<span class="hljs-comment">//取绝对值</span></span><br><span class="line">             </span><br><span class="line">            <span class="hljs-keyword">int</span> e = <span class="hljs-number">10</span>;</span><br><span class="line">            System.out.println(a.pow(e));<span class="hljs-comment">//求a^e</span></span><br><span class="line">             </span><br><span class="line">            System.out.println(a.toString()); <span class="hljs-comment">//将大数a转字符串输出</span></span><br><span class="line">             </span><br><span class="line">            <span class="hljs-keyword">int</span> p = <span class="hljs-number">8</span>;</span><br><span class="line">            System.out.println(a.toString(p)); <span class="hljs-comment">//将大数a转换成p进制后 按字符串输出</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="平方根"><a href="#平方根" class="headerlink" title="平方根"></a>平方根</h4><p>占坑（</p>
<h4 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">matrix</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">typedef</span> LL ele_type;</span><br><span class="line">    <span class="hljs-keyword">int</span> r, c;</span><br><span class="line">    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;ele_type&gt;&gt; ma;</span><br><span class="line"></span><br><span class="line">    matrix(<span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> c): r(r), c(c), ma(r, <span class="hljs-built_in">vector</span>&lt;ele_type&gt;(c)) &#123;&#125;</span><br><span class="line">    matrix(matrix &amp;&amp;rhs) <span class="hljs-keyword">noexcept</span> : r(rhs.r), c(rhs.c) &#123;</span><br><span class="line">        ma = move(rhs.ma);</span><br><span class="line">    &#125;</span><br><span class="line">    matrix(<span class="hljs-keyword">const</span> matrix &amp;rhs) = <span class="hljs-keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    matrix&amp; <span class="hljs-keyword">operator</span>= (matrix &amp;&amp;rhs) <span class="hljs-keyword">noexcept</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;rhs) &#123;</span><br><span class="line">            r = rhs.r;</span><br><span class="line">            c = rhs.c;</span><br><span class="line">            ma = move(rhs.ma);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    matrix <span class="hljs-keyword">operator</span>* (<span class="hljs-keyword">const</span> matrix &amp;rhs) <span class="hljs-keyword">const</span> &#123;</span><br><span class="line">        <span class="hljs-function">matrix <span class="hljs-title">res</span><span class="hljs-params">(r, rhs.c)</span></span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; r; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; c; ++j) &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; rhs.c; ++k) &#123;</span><br><span class="line">                    res.ma[i][k] += ma[i][j] * rhs.ma[j][k];</span><br><span class="line">                    res.ma[i][k] %= MOD;</span><br><span class="line"><span class="hljs-comment">//                    if (res.ma[i][k] &gt;= MOD2) res.ma[i][k] -= MOD2; // MOD2 == MOD * MOD</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setUnit</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; r; ++i) ma[i][i] = <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="快速傅里叶变换"><a href="#快速傅里叶变换" class="headerlink" title="快速傅里叶变换"></a>快速傅里叶变换</h4><p>$O(n\log n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; a[N &lt;&lt; <span class="hljs-number">1</span>];</span><br><span class="line"><span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; b[N &lt;&lt; <span class="hljs-number">1</span>];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init_pos</span><span class="hljs-params">(<span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; *a, <span class="hljs-keyword">int</span> n)</span> </span>&#123;  <span class="hljs-comment">// 逆向加法</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; i != n; i++) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (i &gt; j) swap(a[i], a[j]);</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> l = n &gt;&gt; <span class="hljs-number">1</span>; (j ^= l) &lt; l; l &gt;&gt;= <span class="hljs-number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FFT</span><span class="hljs-params">(<span class="hljs-keyword">int</span> I, <span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; *a, <span class="hljs-keyword">int</span> n)</span> </span>&#123;  <span class="hljs-comment">// 傅里叶变换(I==1) or 插值</span></span><br><span class="line">    init_pos(a, n);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>, mid = <span class="hljs-number">1</span>; i &lt;= n; i &lt;&lt;= <span class="hljs-number">1</span>, mid &lt;&lt;= <span class="hljs-number">1</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; wn(<span class="hljs-built_in">cos</span>(<span class="hljs-number">2.0</span> * PI / i), <span class="hljs-built_in">sin</span>(I * <span class="hljs-number">2.0</span> * PI / i));</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j += i) &#123;</span><br><span class="line">            <span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; w(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = j; k &lt; j + mid; k++, w = w * wn) &#123;</span><br><span class="line">                <span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; l = a[k], r = w * a[k + mid];</span><br><span class="line">                a[k] = l + r;</span><br><span class="line">                a[k + mid] = l - r;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (I == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        a[i] /= n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数论"><a href="#数论" class="headerlink" title="数论"></a>数论</h3><h4 id="一些性质"><a href="#一些性质" class="headerlink" title="一些性质"></a>一些性质</h4><ol>
<li>(a - b) % k == 0  &lt;=&gt;  a % k == b % k</li>
<li>a % b &lt; a / 2 (a &gt;= b)</li>
<li>完全平方数有奇数个约数。1到n中有 $\lfloor \sqrt n \rfloor$ 个完全平方数。</li>
<li>有 n 位的数的平方根有 $\lceil \frac n 2 \rceil$ 位。</li>
</ol>
<h4 id="GCD-amp-LCM"><a href="#GCD-amp-LCM" class="headerlink" title="GCD &amp; LCM"></a>GCD &amp; LCM</h4><p>$O(\log \max (a, b))$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> tmp;</span><br><span class="line">    <span class="hljs-keyword">while</span> (b != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">        tmp = b;</span><br><span class="line">        b = a % b;</span><br><span class="line">        a = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">lcm</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> a / gcd(a, b) * b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Extened-GCD"><a href="#Extened-GCD" class="headerlink" title="Extened GCD"></a>Extened GCD</h4><p>$O(\log \max(a, b))$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// solve ax + by = gcd(a, b)</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">extgcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> &amp;x, <span class="hljs-keyword">int</span> &amp;y)</span> </span>&#123; <span class="hljs-comment">// return gcd(a, b)</span></span><br><span class="line">    <span class="hljs-keyword">int</span> d = a;</span><br><span class="line">    <span class="hljs-keyword">if</span> (b != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">        d = extgcd(b, a % b, y, x);</span><br><span class="line">        y -= (a / b) * x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">        x = <span class="hljs-number">1</span>; y = <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// get inverse number of a modulo m</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">mod_inv</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> x, k;</span><br><span class="line">    extgcd(a, m, x, k);</span><br><span class="line">    <span class="hljs-keyword">return</span> (x % m + m) % m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="素数筛法"><a href="#素数筛法" class="headerlink" title="素数筛法"></a>素数筛法</h4><p>$O(n\log \log n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// Eratosthenes筛法</span></span><br><span class="line"><span class="hljs-keyword">int</span> C[N]; <span class="hljs-comment">// 若是素数则为0，否则为该数的最大素因子</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sieve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i * i &lt; size; i++) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!C[i]) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i * <span class="hljs-number">2</span>; j &lt; size; j += i)</span><br><span class="line">                C[j] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>$O(n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// Euler筛法</span></span><br><span class="line"><span class="hljs-keyword">int</span> C[N]; <span class="hljs-comment">// 该数的最小质因数</span></span><br><span class="line"><span class="hljs-keyword">int</span> prime[N], pn; <span class="hljs-comment">// 素数表</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sieve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; size; ++i) &#123; <span class="hljs-comment">//</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (!C[i]) C[i] = prime[pn++] = i;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; i * prime[j] &lt; size; ++j) &#123;</span><br><span class="line">            C[i * prime[j]] = prime[j];</span><br><span class="line">            <span class="hljs-keyword">if</span> (i % prime[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>; <span class="hljs-comment">// smallest prime factor of i is prime[j], so we need break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="欧拉函数"><a href="#欧拉函数" class="headerlink" title="欧拉函数"></a>欧拉函数</h4><p>欧拉函数 $\phi(n)$ 定义为：$1 \leq k \leq n $ ，并且 $k$ 与 $n$ 互质的 $k$ 的个数。</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// use linear sieve to compute phi(x) for all x up to n</span></span><br><span class="line"><span class="hljs-keyword">int</span> phi[N];</span><br><span class="line"><span class="hljs-keyword">int</span> C[N];</span><br><span class="line"><span class="hljs-keyword">int</span> p[N], pn;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getPhi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    phi[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!C[i]) &#123;</span><br><span class="line">            p[pn++] = i;</span><br><span class="line">            phi[i] = i - <span class="hljs-number">1</span>; <span class="hljs-comment">// ① i is prime</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; i * p[j] &lt; n; ++j) &#123;</span><br><span class="line">            C[i * p[j]] = p[j];</span><br><span class="line">            <span class="hljs-keyword">if</span> (i % p[j] == <span class="hljs-number">0</span>) &#123; </span><br><span class="line">                phi[i * p[j]] = phi[i] * p[j]; <span class="hljs-comment">// ② phi(ip) = phi(i) * p, if p divides i</span></span><br><span class="line">                <span class="hljs-keyword">break</span>; <span class="hljs-comment">// smallest prime factor of i is p[j], so we need break</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                phi[i * p[j]] = phi[i] * phi[p[j]]; <span class="hljs-comment">// ③ p does not divides i, i.e. they are co-prime, so phi(ip) = phi(i) * phi(p) due to phi is a multiplicative function</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h4><p>mul： $O(1)$ </p>
<p>quickPow：$O(\log n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">LL <span class="hljs-title">mul</span><span class="hljs-params">(LL a, LL b, LL mod)</span> </span>&#123; <span class="hljs-comment">// 带模乘法</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (mod &lt;= <span class="hljs-number">2000000000</span>) <span class="hljs-keyword">return</span> a * b % mod;</span><br><span class="line">    LL d = llround((<span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span>)a * b / mod);</span><br><span class="line">    LL ans = a * b - d * mod;</span><br><span class="line">    <span class="hljs-keyword">if</span> (ans &lt; <span class="hljs-number">0</span>) ans += mod;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 求a在模MOD下的逆元 | 费马小定理 | inv(a, MOD - 2, MOD)</span></span><br><span class="line"><span class="hljs-function">LL <span class="hljs-title">quickPow</span><span class="hljs-params">(LL a, LL n, LL mod)</span> </span>&#123; <span class="hljs-comment">// 带模快速幂</span></span><br><span class="line">    LL ans = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (n) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>) ans = mul(ans, a, mod);</span><br><span class="line">        a = mul(a, a, mod);</span><br><span class="line">        n &gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="素性检测"><a href="#素性检测" class="headerlink" title="素性检测"></a>素性检测</h4><p>$O(\sqrt n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 试除法</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isprime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123; </span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>$O(\log n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// Miller-Rabin 素性检测</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isprime</span><span class="hljs-params">(LL n, <span class="hljs-keyword">int</span> S = <span class="hljs-number">7</span>)</span> </span>&#123;  </span><br><span class="line">    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">2</span> || n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line"></span><br><span class="line">    LL u = n - <span class="hljs-number">1</span>, t = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (u % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">        u &gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">        ++t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> SPRP[<span class="hljs-number">7</span>] = &#123;<span class="hljs-number">2</span>, <span class="hljs-number">325</span>, <span class="hljs-number">9375</span>, <span class="hljs-number">28178</span>, <span class="hljs-number">450775</span>, <span class="hljs-number">9780504</span>, <span class="hljs-number">1795265022</span>&#125;;</span><br><span class="line">    <span class="hljs-comment">// cover all numbers &lt; 2^64</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; S; ++k) &#123;</span><br><span class="line">        LL a = SPRP[k] % n;</span><br><span class="line">        <span class="hljs-keyword">if</span> (a == <span class="hljs-number">0</span> || a == <span class="hljs-number">1</span> || a == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        LL x = qpow(a, u, n); <span class="hljs-comment">// 带模快速幂</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (x == <span class="hljs-number">1</span> || x == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; t - <span class="hljs-number">1</span>; ++i) &#123;</span><br><span class="line">            x = mul(x, x, n); <span class="hljs-comment">// 带模乘法</span></span><br><span class="line">            <span class="hljs-keyword">if</span> (x == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (x == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (x == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="质因数分解"><a href="#质因数分解" class="headerlink" title="质因数分解"></a>质因数分解</h4><p>$O(\sqrt n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 直接小除到大</span></span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; p; <span class="hljs-comment">// 存放分解的质因数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">factorize</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">while</span> (n % i == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            p.push_back(i);</span><br><span class="line">            n /= i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">1</span>) p.push_back(n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>$O(\log n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 预处理出各数的最小质因数，然后按最小质因数除</span></span><br><span class="line"><span class="hljs-keyword">int</span> C[N]; <span class="hljs-comment">// 最小质因数，可用欧拉筛获得</span></span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; p;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">factorize</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> t = n; t &gt; <span class="hljs-number">1</span>; ) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x = C[t]; <span class="hljs-comment">// t的最小质因数</span></span><br><span class="line">        <span class="hljs-keyword">while</span> (C[t] == x) &#123;</span><br><span class="line">            p.push_back(x);</span><br><span class="line">            t /= C[t];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Pollard’s ρ：$O(n^ \frac 1 4)$（大约）</p>
<p>factorize：$O(玄学)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// Pollard's ρ 算法 POJ 1811</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> LL <span class="hljs-title">g</span><span class="hljs-params">(LL x, <span class="hljs-keyword">int</span> c, LL mod)</span> </span>&#123; <span class="hljs-comment">// （伪）随机数生成</span></span><br><span class="line">    <span class="hljs-keyword">return</span> (mul(x, x, mod) + c) % mod; </span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function">LL <span class="hljs-title">pollard_rho</span><span class="hljs-params">(LL n, <span class="hljs-keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">    LL x = <span class="hljs-number">2</span>, y = <span class="hljs-number">2</span>, i = <span class="hljs-number">1</span>, k = <span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">        x = g(x, c, n);</span><br><span class="line">        <span class="hljs-comment">// if (x == y) return n;</span></span><br><span class="line"></span><br><span class="line">        LL d = __gcd(llabs(x - y), n);</span><br><span class="line">        <span class="hljs-keyword">if</span> (d &gt; <span class="hljs-number">1</span> &amp;&amp; d &lt;= n) <span class="hljs-keyword">return</span> d;</span><br><span class="line">        <span class="hljs-keyword">if</span> (++i == k) &#123;</span><br><span class="line">            y = x;</span><br><span class="line">            k &lt;&lt;= <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;LL&gt; factor; <span class="hljs-comment">// 刚执行完后是无序的</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">factorize</span><span class="hljs-params">(LL n)</span> </span>&#123; <span class="hljs-comment">// 能够承受10000个数左右的分解（？）</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (isprime(n)) &#123;</span><br><span class="line">        factor.push_back(n);</span><br><span class="line">        <span class="hljs-keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    LL d = n;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> c = <span class="hljs-number">1</span>; d == n; ++c) &#123;</span><br><span class="line">        d = pollard_rho(n, c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    factorize(d);</span><br><span class="line">    factorize(n / d);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="反素数"><a href="#反素数" class="headerlink" title="反素数"></a>反素数</h4><p>对于任何正整数$x$，其约数的个数记作$g(x)$。例如$g(1)=1$、$g(6)=4$。</p>
<p>如果某个正整数$x$满足：$g(x)&gt;g(i) (0&lt;i&lt;x)$，则称$x$为反质数。</p>
<p>性质一：一个反素数的质因子必然是从2开始连续的质数</p>
<p>性质二：分解过后的形式（如 $p = 2^{t_1} * 3^{t_2} * 5^{t_3} * \cdots$ ），必然有 $t1 \geq t2 \geq t3 \geq \cdots$</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> anti_prime[] = &#123;<span class="hljs-number">1396755360</span>,<span class="hljs-number">1102701600</span>,<span class="hljs-number">735134400</span>,<span class="hljs-number">698377680</span>,<span class="hljs-number">551350800</span>,<span class="hljs-number">367567200</span>,<span class="hljs-number">294053760</span>,<span class="hljs-number">245044800</span>,<span class="hljs-number">183783600</span>,<span class="hljs-number">147026880</span>,<span class="hljs-number">122522400</span>,<span class="hljs-number">110270160</span>,<span class="hljs-number">73513440</span>,<span class="hljs-number">61261200</span>,<span class="hljs-number">43243200</span>,<span class="hljs-number">36756720</span>,<span class="hljs-number">32432400</span>,<span class="hljs-number">21621600</span>,<span class="hljs-number">17297280</span>,<span class="hljs-number">14414400</span>,<span class="hljs-number">10810800</span>,<span class="hljs-number">8648640</span>,<span class="hljs-number">7207200</span>,<span class="hljs-number">6486480</span>,<span class="hljs-number">4324320</span>,<span class="hljs-number">3603600</span>,<span class="hljs-number">2882880</span>,<span class="hljs-number">2162160</span>,<span class="hljs-number">1441440</span>,<span class="hljs-number">1081080</span>,<span class="hljs-number">720720</span>,<span class="hljs-number">665280</span>,<span class="hljs-number">554400</span>,<span class="hljs-number">498960</span>,<span class="hljs-number">332640</span>,<span class="hljs-number">277200</span>,<span class="hljs-number">221760</span>,<span class="hljs-number">166320</span>,<span class="hljs-number">110880</span>,<span class="hljs-number">83160</span>,<span class="hljs-number">55440</span>,<span class="hljs-number">50400</span>,<span class="hljs-number">45360</span>,<span class="hljs-number">27720</span>,<span class="hljs-number">25200</span>,<span class="hljs-number">20160</span>,<span class="hljs-number">15120</span>,<span class="hljs-number">10080</span>,<span class="hljs-number">7560</span>,<span class="hljs-number">5040</span>,<span class="hljs-number">2520</span>,<span class="hljs-number">1680</span>,<span class="hljs-number">1260</span>,<span class="hljs-number">840</span>,<span class="hljs-number">720</span>,<span class="hljs-number">360</span>,<span class="hljs-number">240</span>,<span class="hljs-number">180</span>,<span class="hljs-number">120</span>,<span class="hljs-number">60</span>,<span class="hljs-number">48</span>,<span class="hljs-number">36</span>,<span class="hljs-number">24</span>,<span class="hljs-number">12</span>,<span class="hljs-number">6</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="图论"><a href="#图论" class="headerlink" title="图论"></a>图论</h2><h3 id="一些性质-1"><a href="#一些性质-1" class="headerlink" title="一些性质"></a>一些性质</h3><ol>
<li>先从任意一个节点u开始深搜找到一个最远点v，再从v深搜找到最远点w，则v-&gt;w就是树的直径。</li>
<li>握手定理：任何一个无向图都有偶数个度数为奇数的顶点。</li>
</ol>
<h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><p>$O(V+E)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// dfs版拓扑排序，可判断是否为有向无环图，若不是则返回 false</span></span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; topo; <span class="hljs-comment">// 拓扑序的倒序</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    vis[u] = <span class="hljs-number">-1</span>; <span class="hljs-comment">// -1为正在处理的节点，0为未处理的节点，1为已经处理完的节点</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">1</span>; v &lt;= n; ++v) &#123; <span class="hljs-comment">// 对于每一个u的后继v</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (g[u][v]) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (vis[v] &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!vis[v] &amp;&amp; !dfs(v)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">            <span class="hljs-comment">// 若v没被处理并且v中发现环，则停止深搜，返回false</span></span><br><span class="line">            <span class="hljs-comment">// 若v是已被处理完的节点，则忽略</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[u] = <span class="hljs-number">1</span>;</span><br><span class="line">    topo.push_back(u);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">toposort</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(vis));</span><br><span class="line">    topo.clear();</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> u = <span class="hljs-number">1</span>; u &lt;= n; ++u) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!vis[u]) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!dfs(u)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bfs版拓扑排序，会遍历所有*不在*环中的节点</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">toposort</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">// 无向图版</span></span><br><span class="line">    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (degree[i] == <span class="hljs-number">1</span>) q.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = q.front(); q.pop();</span><br><span class="line">        <span class="hljs-comment">// operation here</span></span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[u].size(); ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> v = g[u][i];</span><br><span class="line">            <span class="hljs-keyword">if</span> (--degree[v] == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                <span class="hljs-comment">// 具体操作</span></span><br><span class="line">                q.push(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最短路"><a href="#最短路" class="headerlink" title="最短路"></a>最短路</h3><h4 id="Bellman-Ford-SPFA"><a href="#Bellman-Ford-SPFA" class="headerlink" title="Bellman-Ford (SPFA)"></a>Bellman-Ford (SPFA)</h4><p>$O(VE)$（对于大部分图 SPFA 还是很快的）</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 单纯判环 UVA 11090</span></span><br><span class="line"><span class="hljs-keyword">double</span> d[N];</span><br><span class="line"><span class="hljs-keyword">bool</span> vis[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">SPFA</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (vis[u]) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    vis[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = g[u]; ~i; i = es[i].next) &#123;</span><br><span class="line">        <span class="hljs-keyword">double</span> tmp = d[u] + es[i].v;</span><br><span class="line">        <span class="hljs-keyword">if</span> (tmp &lt; d[es[i].b]) &#123;</span><br><span class="line">            d[es[i].b] = tmp;</span><br><span class="line">            <span class="hljs-keyword">if</span> (SPFA(es[i].b)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[u] = <span class="hljs-literal">false</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">detect</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        vis[i] = <span class="hljs-literal">false</span>;</span><br><span class="line">        d[i] = <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) <span class="hljs-keyword">if</span> (SPFA(i)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 求最短路并判环</span></span><br><span class="line"><span class="hljs-keyword">double</span> d[N]; <span class="hljs-comment">// 最短路长度</span></span><br><span class="line"><span class="hljs-keyword">int</span> L[N]; <span class="hljs-comment">// 源点到各个节点的最短路的边数</span></span><br><span class="line"><span class="hljs-keyword">bool</span> inq[N];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">SPFA</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span> </span>&#123; <span class="hljs-comment">// true表示无环，false表示有环</span></span><br><span class="line">    <span class="hljs-built_in">memset</span>(d, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span>(d));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(inq, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(inq));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(L, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(L));</span><br><span class="line">    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;</span><br><span class="line">    d[s] = <span class="hljs-number">0</span>;</span><br><span class="line">    q.push(s);</span><br><span class="line">    <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = q.front(); q.pop();</span><br><span class="line">        inq[u] = <span class="hljs-literal">false</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = g[u]; ~i; i = es[i].next) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> v = es[i].b; <span class="hljs-keyword">double</span> val = es[i].v;</span><br><span class="line">            <span class="hljs-keyword">double</span> tmp = d[u] + val;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tmp &lt; d[v]) &#123;</span><br><span class="line">                L[v] = L[u] + <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (L[v] &gt;= n) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// 最短路长度大于等于顶点数即有环</span></span><br><span class="line">                d[v] = tmp;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!inq[v]) &#123;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                    inq[v] = <span class="hljs-literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Dijkstra"><a href="#Dijkstra" class="headerlink" title="Dijkstra"></a>Dijkstra</h4><p>$O(E\log E)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> d[N];</span><br><span class="line"><span class="hljs-keyword">bool</span> vis[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(d, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span>(d));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(vis));</span><br><span class="line">    priority_queue&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; q;</span><br><span class="line">    d[s] = <span class="hljs-number">0</span>;</span><br><span class="line">    q.push(&#123;<span class="hljs-number">0</span>, s&#125;);</span><br><span class="line">    <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = q.top().second; q.pop();</span><br><span class="line">        <span class="hljs-keyword">if</span> (vis[u]) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;e : g[u]) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> v = e.first, w = e.second;</span><br><span class="line">            <span class="hljs-keyword">int</span> tmp = d[u] + w;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tmp &lt; d[v]) &#123;</span><br><span class="line">                d[v] = tmp;</span><br><span class="line">                q.push(&#123;-tmp, v&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Floyd"><a href="#Floyd" class="headerlink" title="Floyd"></a>Floyd</h4><p>$O(V^3)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> d[N][N];</span><br><span class="line"><span class="hljs-keyword">int</span> g[N][N];</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (i == j) d[i][j] = <span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (g[i][j]) d[i][j] = g[i][j];</span><br><span class="line">		<span class="hljs-keyword">else</span> d[i][j] = INF;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; ++k) &#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j) &#123;</span><br><span class="line">            d[i][j] = min(d[i][j], d[i][k] + d[k][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="K短路"><a href="#K短路" class="headerlink" title="K短路"></a>K短路</h4><p>$O(玄学)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// POJ 2449</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> EPS = <span class="hljs-number">1e-8</span>;</span><br><span class="line"><span class="hljs-comment">//const double PI = acos(-1.0);</span></span><br><span class="line"><span class="hljs-comment">//const int MOD = 1000000007;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> uLL;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1000</span>+<span class="hljs-number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> S, T, K;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; g[N];</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; rev[N]; <span class="hljs-comment">// 将所有边反向的逆图</span></span><br><span class="line"><span class="hljs-keyword">int</span> h[N];</span><br><span class="line"><span class="hljs-keyword">int</span> cnt[N]; <span class="hljs-comment">// 每个节点的访问次数</span></span><br><span class="line"><span class="hljs-keyword">bool</span> vis[N];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dij</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">// 求出最优的h，即每个节点到终点的最短路长度</span></span><br><span class="line">    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span>(h));</span><br><span class="line">    priority_queue&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; q;</span><br><span class="line">    h[T] = <span class="hljs-number">0</span>;</span><br><span class="line">    q.push(&#123;<span class="hljs-number">0</span>, T&#125;);</span><br><span class="line">    <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = q.top().second; q.pop();</span><br><span class="line">        <span class="hljs-keyword">if</span> (vis[u]) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; rev[u].size(); ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> tmp = h[u] + rev[u][i].second;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tmp &lt; h[rev[u][i].first]) &#123;</span><br><span class="line">                h[rev[u][i].first] = tmp;</span><br><span class="line">                q.push(&#123;-tmp, rev[u][i].first&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">astar</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    priority_queue&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; q;</span><br><span class="line">    q.push(&#123;-h[S], S&#125;);</span><br><span class="line">    <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = q.top().second, val = -q.top().first; q.pop();</span><br><span class="line">        <span class="hljs-keyword">if</span> (++cnt[u] == K &amp;&amp; u == T) <span class="hljs-keyword">return</span> val; <span class="hljs-comment">// 访问K次即K短路</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (cnt[u] &gt; K) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[u].size(); ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> v = g[u][i].first, t = g[u][i].second;</span><br><span class="line">            <span class="hljs-keyword">if</span> (cnt[v] &lt; K) &#123;</span><br><span class="line">                q.push(&#123;-val + h[u] - t - h[v], v&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="hljs-literal">false</span>);</span><br><span class="line">    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">int</span> n, m;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="hljs-keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> a, b, t;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>, &amp;a, &amp;b, &amp;t);</span><br><span class="line">        g[a].push_back(&#123;b, t&#125;);</span><br><span class="line">        rev[b].push_back(&#123;a, t&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>, &amp;S, &amp;T, &amp;K);</span><br><span class="line">    <span class="hljs-keyword">if</span> (S == T) ++K;</span><br><span class="line">    dij();</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, astar());</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="生成树"><a href="#生成树" class="headerlink" title="生成树"></a>生成树</h3><h4 id="Kruskal"><a href="#Kruskal" class="headerlink" title="Kruskal"></a>Kruskal</h4><p>对边排序然后贪心</p>
<p>$O(E\log E)$ </p>
<h4 id="Prim"><a href="#Prim" class="headerlink" title="Prim"></a>Prim</h4><p>和Dijkstra相似</p>
<p>$O(E\log E)$ </p>
<h4 id="次小生成树"><a href="#次小生成树" class="headerlink" title="次小生成树"></a>次小生成树</h4><p>$O(E\log E+V^2)$ or $O(E\log E+V\log V)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// POJ 1679</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> EPS = <span class="hljs-number">1e-8</span>;</span><br><span class="line"><span class="hljs-comment">// const double PI = acos(-1.0);</span></span><br><span class="line"><span class="hljs-comment">// const int MOD = 1000000007;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> uLL;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100</span> + <span class="hljs-number">10</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">2000000</span> + <span class="hljs-number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> a, b, w;</span><br><span class="line">    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> edge &amp;r) <span class="hljs-keyword">const</span> &#123; <span class="hljs-keyword">return</span> w &lt; r.w; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;edge&gt; es;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> fa[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123; <span class="hljs-keyword">return</span> (fa[u] &lt; <span class="hljs-number">0</span> ? u : (fa[u] = find(fa[u]))); &#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; spt[N]; <span class="hljs-comment">// 最小生成树</span></span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; candi; <span class="hljs-comment">// 次小生成树的候选边（即不在最小生成树中的边）</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setUnion</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> r1 = find(a), r2 = find(b);</span><br><span class="line">    <span class="hljs-keyword">if</span> (r1 == r2) <span class="hljs-keyword">return</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (fa[r1] &lt; fa[r2]) &#123;</span><br><span class="line">        fa[r2] = r1;</span><br><span class="line">        <span class="hljs-keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (fa[r1] == fa[r2]) --fa[r2];</span><br><span class="line">    fa[r1] = r2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kruskal</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(fa, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(fa));</span><br><span class="line">    candi.clear();</span><br><span class="line">    sort(es.begin(), es.end());</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; es.size(); ++i) &#123;</span><br><span class="line">        edge &amp;e = es[i];</span><br><span class="line">        <span class="hljs-keyword">if</span> (find(e.a) != find(e.b)) &#123;</span><br><span class="line">            setUnion(e.a, e.b);</span><br><span class="line">            spt[e.a].push_back(&#123;e.b, e.w&#125;);</span><br><span class="line">            spt[e.b].push_back(&#123;e.a, e.w&#125;);</span><br><span class="line">            ans += e.w;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            candi.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> F[N][N]; <span class="hljs-comment">// 最小生成树中任意两点路径中最大边权</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">bool</span> vis[N];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> fa, <span class="hljs-keyword">int</span> ans, <span class="hljs-keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; spt[u].size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> v = spt[u][i].first;</span><br><span class="line">        <span class="hljs-keyword">if</span> (v != fa) &#123;</span><br><span class="line">            dfs(v, u, F[a][v] = max(ans, spt[u][i].second), a);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pre</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">// 求出F，可利用LCA与区间查询将复杂度将为O(nlogn)</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) dfs(i, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span> </span>&#123; es.push_back(&#123;u, v, w&#125;); &#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> ori)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = INF;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; candi.size(); ++i) &#123; <span class="hljs-comment">// 枚举每条候选边</span></span><br><span class="line">        edge &amp;e = es[candi[i]];</span><br><span class="line">        ans = min(ori - F[e.a][e.b] + e.w, ans); <span class="hljs-comment">// 将它与F[e.a][e.b]的边替换</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="hljs-literal">false</span>);</span><br><span class="line">    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">int</span> T;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="hljs-keyword">while</span> (T--) &#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">        es.clear();</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) spt[i].clear();</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> u, v, w;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;w);</span><br><span class="line">            addedge(u, v, w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">int</span> ans = kruskal();</span><br><span class="line">        pre();</span><br><span class="line">        <span class="hljs-keyword">int</span> tmp = solve(ans);</span><br><span class="line">        <span class="hljs-keyword">if</span> (tmp == ans) <span class="hljs-comment">// 若次小生成树权值与最小生成树相同</span></span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Not Unique!\n"</span>);</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>$O(E\log E)$  </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// codeforces contest 1108 F</span></span><br><span class="line"><span class="hljs-comment">// improved kruskal</span></span><br><span class="line"><span class="hljs-comment">// return the number of alternative edges of MST</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kruskal</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> ret = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(fa, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(fa));</span><br><span class="line">    sort(es.begin(), es.end());</span><br><span class="line">    <span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">set</span>&lt;pii&gt;&gt; mp;</span><br><span class="line">    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; es.size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">auto</span> &amp;e = es[i];</span><br><span class="line">        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> == es.size() || es[i + <span class="hljs-number">1</span>].w != e.w) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &gt;= <span class="hljs-number">0</span> &amp;&amp; es[j].w == e.w; --j) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (find(es[j].u) != find(es[j].v)) ++cnt;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &gt;= <span class="hljs-number">0</span> &amp;&amp; es[j].w == e.w; --j) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (find(es[j].u) != find(es[j].v)) &#123;</span><br><span class="line">                    unite(find(es[j].u), find(es[j].v));</span><br><span class="line">                    --cnt;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ret += cnt;</span><br><span class="line">            cnt = <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="网络流"><a href="#网络流" class="headerlink" title="网络流"></a>网络流</h3><h4 id="Edmonds-Karp"><a href="#Edmonds-Karp" class="headerlink" title="Edmonds-Karp"></a>Edmonds-Karp</h4><p>$O(VE^2)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// UVA 820</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> a, b, cap;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;edge&gt; es;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[N];</span><br><span class="line"><span class="hljs-keyword">int</span> p[N]; <span class="hljs-comment">// 每次增广的路径记录</span></span><br><span class="line"><span class="hljs-keyword">int</span> flows[N]; <span class="hljs-comment">// 记录每次增广流大小顺便用于bfs（</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> cap)</span> </span>&#123;</span><br><span class="line">    es.push_back(&#123;a, b, cap&#125;);</span><br><span class="line">    es.push_back(&#123;b, a, <span class="hljs-number">0</span>&#125;);</span><br><span class="line">    <span class="hljs-keyword">int</span> i = es.size();</span><br><span class="line">    g[a].push_back(i - <span class="hljs-number">2</span>);</span><br><span class="line">    g[b].push_back(i - <span class="hljs-number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(flows, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(flows));</span><br><span class="line">    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;</span><br><span class="line">    q.push(s);</span><br><span class="line">    flows[s] = INF;</span><br><span class="line">    <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = q.front(); q.pop();</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> ee = <span class="hljs-number">0</span>; ee &lt; g[u].size(); ++ee) &#123;</span><br><span class="line">            <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> &amp;e = g[u][ee];</span><br><span class="line">            <span class="hljs-keyword">const</span> edge &amp;eg = es[e];</span><br><span class="line">            <span class="hljs-keyword">if</span> (!flows[eg.b] &amp;&amp; eg.cap &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                flows[eg.b] = min(flows[u], eg.cap);</span><br><span class="line">                p[eg.b] = e;  <span class="hljs-comment">// 记录此次增广的路径，用于更新</span></span><br><span class="line">                <span class="hljs-keyword">if</span> (eg.b == d) <span class="hljs-keyword">return</span> flows[d];</span><br><span class="line">                q.push(eg.b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> flows[d];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ekalgo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!bfs(s, d)) <span class="hljs-keyword">break</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> u = d; u != s; u = es[p[u]].a) &#123;</span><br><span class="line">            es[p[u]].cap -= flows[d];</span><br><span class="line">            es[p[u]^<span class="hljs-number">1</span>].cap += flows[d];</span><br><span class="line">        &#125;</span><br><span class="line">        maxflow += flows[d];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> maxflow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Scaling"><a href="#Scaling" class="headerlink" title="Scaling"></a>Scaling</h4><p>$O(E^2\log c)$ (c is the initial threshold)</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// UVA 820</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> a, b, cap;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;edge&gt; es;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[N];</span><br><span class="line"><span class="hljs-keyword">int</span> p[N]; <span class="hljs-comment">// 用于dfs的标识数组</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> cap)</span> </span>&#123;</span><br><span class="line">    es.push_back(&#123;a, b, cap&#125;);</span><br><span class="line">    es.push_back(&#123;b, a, <span class="hljs-number">0</span>&#125;);</span><br><span class="line">    <span class="hljs-keyword">int</span> i = es.size();</span><br><span class="line">    g[a].push_back(i - <span class="hljs-number">2</span>);</span><br><span class="line">    g[b].push_back(i - <span class="hljs-number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> f)</span> </span>&#123; <span class="hljs-comment">// 每次只增广大小大于等于阈值的流，若无则返回0</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (u == d) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> f;</span><br><span class="line">    &#125;</span><br><span class="line">    p[u] = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> ee : g[u]) &#123;</span><br><span class="line">        edge &amp;e = es[ee];</span><br><span class="line">        <span class="hljs-keyword">if</span> (!p[e.b] &amp;&amp; e.cap &gt;= thre) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> flow = dfs(e.b, min(f, e.cap));</span><br><span class="line">            <span class="hljs-keyword">if</span> (flow &gt;= thre) &#123;</span><br><span class="line">                e.cap -= flow;</span><br><span class="line">                es[ee^<span class="hljs-number">1</span>].cap += flow;</span><br><span class="line">                <span class="hljs-keyword">return</span> flow;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">scal</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;</span><br><span class="line">    thre = <span class="hljs-number">1000</span>;  <span class="hljs-comment">// 阈值</span></span><br><span class="line">    <span class="hljs-keyword">while</span> (thre) &#123;</span><br><span class="line">        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">            <span class="hljs-built_in">memset</span>(p, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(p));</span><br><span class="line">            <span class="hljs-keyword">int</span> flow = dfs(s, INF);</span><br><span class="line">            <span class="hljs-keyword">if</span> (!flow) <span class="hljs-keyword">break</span>;</span><br><span class="line">            maxflow += flow;</span><br><span class="line">        &#125;</span><br><span class="line">        thre &gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> maxflow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Dinic"><a href="#Dinic" class="headerlink" title="Dinic"></a>Dinic</h4><p>$O(V^2E)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> d[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(d, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(d));</span><br><span class="line">    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;</span><br><span class="line">    q.push(<span class="hljs-number">0</span>);</span><br><span class="line">    d[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = q.front(); q.pop();</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">1</span>; v &lt;= n; ++v) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (d[v] &lt; <span class="hljs-number">0</span> &amp;&amp; g[u][v] &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                d[v] = d[u] + <span class="hljs-number">1</span>;</span><br><span class="line">                q.push(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> d[n] &gt;= <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">bool</span> vis[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> f)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (u == n) <span class="hljs-keyword">return</span> f;</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">    vis[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">1</span>; v &lt;= n; ++v) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (!vis[v] &amp;&amp; d[v] == d[u] + <span class="hljs-number">1</span> &amp;&amp; g[u][v] &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> flow = dfs(v, min(f, g[u][v]));</span><br><span class="line">            <span class="hljs-keyword">if</span> (flow &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                g[u][v] -= flow;</span><br><span class="line">                g[v][u] += flow;</span><br><span class="line">                ans += flow;</span><br><span class="line">                f -= flow;</span><br><span class="line">                <span class="hljs-keyword">if</span> (f &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dinic</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (bfs()) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> flow;</span><br><span class="line">        <span class="hljs-keyword">while</span> (<span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(vis)), flow = dfs(<span class="hljs-number">0</span>, INF)) ans += flow; <span class="hljs-comment">// O(EV)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="上下界可行流"><a href="#上下界可行流" class="headerlink" title="上下界可行流"></a>上下界可行流</h4><p>建一个特殊的图然后跑网络流（具体参见“图论总结 by amber.pdf”）</p>
<h3 id="连通分量"><a href="#连通分量" class="headerlink" title="连通分量"></a>连通分量</h3><h4 id="强连通分量（Kosaraju）"><a href="#强连通分量（Kosaraju）" class="headerlink" title="强连通分量（Kosaraju）"></a>强连通分量（Kosaraju）</h4><p>$O(V+E)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// POJ 2186：分解强连通分量，如果图中任何一个点都能到最后一个连通分量，则输出最后一个连通分量所含节点数</span></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[N];</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; rev[N];</span><br><span class="line"><span class="hljs-keyword">bool</span> vis[N];</span><br><span class="line"><span class="hljs-keyword">int</span> s[N], stop; <span class="hljs-comment">// 第一次dfs得到的dfs序列</span></span><br><span class="line"><span class="hljs-keyword">int</span> ord[N]; <span class="hljs-comment">// 节点所在强连通分量的拓扑序</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    vis[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[u].size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!vis[g[u][i]]) dfs1(g[u][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    s[stop++] = u;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ord[u] = k;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; rev[u].size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!ord[rev[u][i]]) dfs2(rev[u][i], k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> cnt;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    vis[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">    ++cnt;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; rev[u].size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!vis[rev[u][i]]) check(rev[u][i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="hljs-literal">false</span>);</span><br><span class="line">    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="hljs-keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> a, b;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">        g[a].push_back(b);</span><br><span class="line">        rev[b].push_back(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        <span class="hljs-keyword">if</span> (!vis[i]) dfs1(i);</span><br><span class="line">    <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (stop &gt; <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// Kosaraju here</span></span><br><span class="line">        <span class="hljs-keyword">int</span> u = s[--stop];</span><br><span class="line">        <span class="hljs-keyword">if</span> (ord[u]) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        dfs2(u, ++k); <span class="hljs-comment">// 按栈中的顺序处理结点得到的是拓扑序</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> u = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (ord[i] == k) &#123; <span class="hljs-comment">// 拓扑序中最后一个连通分量，即无出边的分量</span></span><br><span class="line">            u = i;</span><br><span class="line">            ++ans;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(vis));</span><br><span class="line">    check(u); <span class="hljs-comment">// 查看是否任意节点都可达该分量</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (cnt != n) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"0\n"</span>);</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ans);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="强连通分量（Tarjan）"><a href="#强连通分量（Tarjan）" class="headerlink" title="强连通分量（Tarjan）"></a>强连通分量（Tarjan）</h4><p>$O(V+E)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// POJ 2186：分解强连通分量，如果图中任何一个点都能到最后一个连通分量，则输出最后一个连通分量所含节点数</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> EPS = <span class="hljs-number">1e-8</span>;</span><br><span class="line"><span class="hljs-comment">//const double PI = acos(-1.0);</span></span><br><span class="line"><span class="hljs-comment">//const int MOD = 1000000007;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> uLL;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10000</span>+<span class="hljs-number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[N];</span><br><span class="line"><span class="hljs-keyword">int</span> cnt; <span class="hljs-comment">// dfs访问过程中的时间标记</span></span><br><span class="line"><span class="hljs-keyword">int</span> s[N], stop; <span class="hljs-comment">// 存放还未被决定连通分量的节点，在栈中的节点一定有路径到当前访问的节点</span></span><br><span class="line"><span class="hljs-keyword">int</span> ord[N]; <span class="hljs-comment">// 节点属于哪个连通分量，同时连通分量是拓扑有序的</span></span><br><span class="line"><span class="hljs-keyword">bool</span> ins[N]; <span class="hljs-comment">// 是否在栈中</span></span><br><span class="line"><span class="hljs-keyword">int</span> dfn[N]; <span class="hljs-comment">// 时间戳</span></span><br><span class="line"><span class="hljs-keyword">int</span> low[N]; <span class="hljs-comment">// 各个节点能到达的时间戳最早的节点</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> cpn;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123; <span class="hljs-comment">// 本质上就是一个模板 dfs 而已</span></span><br><span class="line">    s[stop++] = u;</span><br><span class="line">    ins[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">    dfn[u] = low[u] = ++cnt;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[u].size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!dfn[g[u][i]]) &#123; <span class="hljs-comment">// 如果该节点没有被访问</span></span><br><span class="line">            dfs(g[u][i]);</span><br><span class="line">            low[u] = min(low[u], low[g[u][i]]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ins[g[u][i]]) <span class="hljs-comment">// 如果该节点在栈中</span></span><br><span class="line">            low[u] = min(low[u], dfn[g[u][i]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (dfn[u] == low[u]) &#123; <span class="hljs-comment">// 新连通分量，u是该连通分量的“根”</span></span><br><span class="line">        ++cpn;</span><br><span class="line">        <span class="hljs-keyword">int</span> t; <span class="hljs-comment">// 存放栈顶元素</span></span><br><span class="line">        <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">            t = s[--stop];</span><br><span class="line">            ins[t] = <span class="hljs-literal">false</span>;</span><br><span class="line">            ord[t] = cpn;</span><br><span class="line">        &#125; <span class="hljs-keyword">while</span> (t != u); <span class="hljs-comment">// 栈顶到u的顶点都属于该连通分量</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> out[N];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="hljs-literal">false</span>);</span><br><span class="line">    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="hljs-keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> a, b;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">        g[a].push_back(b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) <span class="hljs-comment">// Tarjan here</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (!dfn[i]) dfs(i);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; g[i].size(); ++j) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (ord[i] != ord[g[i][j]]) ++out[ord[i]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= cpn; ++i)</span><br><span class="line">        <span class="hljs-keyword">if</span> (!out[i]) &#123;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (cnt &gt; <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"0\n"</span>);</span><br><span class="line">    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="hljs-keyword">if</span> (!out[ord[i]]) ++ans;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="双连通分量（Tarjan）"><a href="#双连通分量（Tarjan）" class="headerlink" title="双连通分量（Tarjan）"></a>双连通分量（Tarjan）</h4><p>性质：<strong>点双连通图的所有节点都在一个环上，所有节点都在一个环上的图是双连通的</strong></p>
<p>$O(V+E)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// POJ 2942</span></span><br><span class="line"><span class="hljs-comment">// 点双连通图就是没有任何一个单独的点可以成为割点的图</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> EPS = <span class="hljs-number">1e-8</span>;</span><br><span class="line"><span class="hljs-comment">//const double PI = acos(-1.0);</span></span><br><span class="line"><span class="hljs-comment">//const int MOD = 1000000007;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> uLL;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1000</span>+<span class="hljs-number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[N];</span><br><span class="line"><span class="hljs-keyword">bool</span> hate[N][N];</span><br><span class="line"><span class="hljs-keyword">int</span> cnt; <span class="hljs-comment">// dfs访问过程中的时间戳</span></span><br><span class="line"><span class="hljs-keyword">int</span> s[N], stop;</span><br><span class="line"><span class="hljs-keyword">bool</span> ins[N];</span><br><span class="line"><span class="hljs-keyword">int</span> dfn[N]; <span class="hljs-comment">// 每个节点的时间戳</span></span><br><span class="line"><span class="hljs-keyword">int</span> low[N]; <span class="hljs-comment">// 每个节点不经过父节点能到达的最小节点的时间戳</span></span><br><span class="line"><span class="hljs-keyword">int</span> ord[N];</span><br><span class="line"><span class="hljs-keyword">int</span> cpn;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> tmp[N];</span><br><span class="line"><span class="hljs-keyword">int</span> color[N];</span><br><span class="line"><span class="hljs-keyword">bool</span> expelled[N];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) g[i].clear();</span><br><span class="line">    <span class="hljs-built_in">memset</span>(hate, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(hate));</span><br><span class="line">    cnt = stop = cpn = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(ins, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(ins));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(dfn));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(ord, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(ord));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(expelled, <span class="hljs-number">1</span>, <span class="hljs-keyword">sizeof</span>(expelled));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bipartite</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123; <span class="hljs-comment">// 二分图判定</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[u].size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> v = g[u][i];</span><br><span class="line">        <span class="hljs-keyword">if</span> (ord[v] == cpn) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!color[v] &amp;&amp; !bipartite((color[v] = -color[u], v))) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (color[v] &amp;&amp; color[v] == color[u]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> fa)</span> </span>&#123; <span class="hljs-comment">// 本质上就是一个模板 dfs 而已</span></span><br><span class="line">    s[stop++] = u;</span><br><span class="line">    ins[u] = <span class="hljs-literal">true</span>; <span class="hljs-comment">// 点双连通分量所以存点</span></span><br><span class="line">    dfn[u] = low[u] = ++cnt;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[u].size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> v = g[u][i];</span><br><span class="line">        <span class="hljs-keyword">if</span> (!dfn[v]) &#123;</span><br><span class="line">            dfs(v, u);</span><br><span class="line">            low[u] = min(low[u], low[v]);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-comment">// 另：low[v] &gt; dnf[u] 就说明V-U是桥</span></span><br><span class="line">            <span class="hljs-keyword">if</span> (low[v] &gt;= dfn[u]) &#123; <span class="hljs-comment">// u是该双连通分量的“根”，也是图中的一个割点</span></span><br><span class="line">                ++cpn; <span class="hljs-comment">// 新的双连通分量</span></span><br><span class="line">                <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> t; <span class="hljs-comment">// 存放栈顶元素</span></span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    t = s[--stop];</span><br><span class="line">                    ins[t] = <span class="hljs-literal">false</span>;</span><br><span class="line">                    tmp[cnt++] = t; <span class="hljs-comment">// 该数组中的元素为同一个连通分量中的点，用于后面的二分图判断</span></span><br><span class="line">                    ord[t] = cpn;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> (t != v);</span><br><span class="line">                tmp[cnt++] = u; <span class="hljs-comment">// u也属于该连通分量</span></span><br><span class="line">                ord[u] = cpn; <span class="hljs-comment">// 同一节点可能属于多个点双连通分量</span></span><br><span class="line"></span><br><span class="line">                <span class="hljs-built_in">memset</span>(color, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(color));</span><br><span class="line">                color[u] = <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (cnt &gt;= <span class="hljs-number">3</span> &amp;&amp; !bipartite(u)) &#123; <span class="hljs-comment">// 不是二分图即有奇圈</span></span><br><span class="line">                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; ++i) expelled[tmp[i]] = <span class="hljs-literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ins[v] &amp;&amp; v != fa)</span><br><span class="line">            low[u] = min(low[u], dfn[v]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) <span class="hljs-keyword">if</span> (expelled[i]) ++ans;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="hljs-literal">false</span>);</span><br><span class="line">    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m) &amp;&amp; n) &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> a, b;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">            hate[a][b] = hate[b][a] = <span class="hljs-literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= n; ++j) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!hate[i][j]) &#123;</span><br><span class="line">                    g[i].push_back(j);</span><br><span class="line">                    g[j].push_back(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) <span class="hljs-comment">// Tarjan here</span></span><br><span class="line">            <span class="hljs-keyword">if</span> (!dfn[i]) dfs(i, <span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, solve());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LCA"><a href="#LCA" class="headerlink" title="LCA"></a>LCA</h3><h4 id="Tarjan-离线算法"><a href="#Tarjan-离线算法" class="headerlink" title="Tarjan 离线算法"></a>Tarjan 离线算法</h4><p>$O((V+E)+(V+Q)\log V)$ (Q is the number of queries)</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// POJ 1470</span></span><br><span class="line"><span class="hljs-comment">// call: tarjan(root);</span></span><br><span class="line"><span class="hljs-keyword">int</span> fa[N];</span><br><span class="line"><span class="hljs-keyword">bool</span> vis[N];</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[N];</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; qs[N];</span><br><span class="line"><span class="hljs-keyword">int</span> ans[N];</span><br><span class="line"><span class="hljs-keyword">int</span> root;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (fa[u] &lt; <span class="hljs-number">0</span>)</span><br><span class="line">        <span class="hljs-keyword">return</span> u;</span><br><span class="line">    <span class="hljs-keyword">return</span> fa[u] = find(fa[u]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUnion</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> r1 = find(a), r2 = find(b);</span><br><span class="line">    <span class="hljs-keyword">if</span> (r1 == r2) <span class="hljs-keyword">return</span>;</span><br><span class="line">    fa[r1] = r2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    vis[u] = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; qs[u].size(); ++i) &#123; <span class="hljs-comment">// 处理该节点对应的查询</span></span><br><span class="line">        <span class="hljs-keyword">int</span> q = qs[u][i];</span><br><span class="line">        <span class="hljs-keyword">if</span> (vis[q]) ++ans[find(q)]; <span class="hljs-comment">// 如果对应的节点已被访问，则其所在集合的代表就是lca</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[u].size(); ++i) &#123; <span class="hljs-comment">// dfs</span></span><br><span class="line">        <span class="hljs-keyword">int</span> ch = g[u][i];</span><br><span class="line">        tarjan(ch);</span><br><span class="line">        setUnion(ch, u); <span class="hljs-comment">// 处理完一个儿子后就将其与父亲合并</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(fa, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(fa));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="hljs-built_in">memset</span>(ans, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(ans));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="倍增法"><a href="#倍增法" class="headerlink" title="倍增法"></a>倍增法</h4><p>init： $O(V\log V)$ </p>
<p>getLCA： $O(\log V)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 预处理后任意两点的LCA</span></span><br><span class="line"><span class="hljs-keyword">int</span> dep[N];</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[N];</span><br><span class="line"><span class="hljs-keyword">int</span> ans[N];</span><br><span class="line"><span class="hljs-keyword">int</span> root;</span><br><span class="line"><span class="hljs-keyword">int</span> anc[<span class="hljs-number">20</span>][N];</span><br><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> fa, <span class="hljs-keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">    anc[<span class="hljs-number">0</span>][u] = fa;</span><br><span class="line">    maxe[<span class="hljs-number">0</span>][u] = w;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt; LOGN; ++k) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((<span class="hljs-number">1</span>&lt;&lt;k) &gt; dep[u]) <span class="hljs-keyword">break</span>;</span><br><span class="line">        anc[k][u] = anc[k<span class="hljs-number">-1</span>][anc[k<span class="hljs-number">-1</span>][u]];</span><br><span class="line">        maxe[k][u] = max(maxe[k<span class="hljs-number">-1</span>][anc[k<span class="hljs-number">-1</span>][u]], maxe[k<span class="hljs-number">-1</span>][u]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;e : spt[u]) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> v = e.first;</span><br><span class="line">        <span class="hljs-keyword">if</span> (v == fa) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        dep[v] = dep[u] + <span class="hljs-number">1</span>;</span><br><span class="line">        dfs(v, u, e.second);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">// 预处理</span></span><br><span class="line">    dep[root] = <span class="hljs-number">0</span>;</span><br><span class="line">    dfs(root, root, <span class="hljs-number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getk</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> k)</span> </span>&#123; <span class="hljs-comment">// 得到节点u的第k个祖先</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (k &gt; dep[u]) <span class="hljs-keyword">return</span> root;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; (<span class="hljs-number">1</span>&lt;&lt;i) &lt;= k; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((<span class="hljs-number">1</span>&lt;&lt;i) &amp; k) u = anc[i][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> u;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getLCA</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (dep[u] &gt; dep[v]) swap(u, v);</span><br><span class="line">    v = getk(v, dep[v] - dep[u]); <span class="hljs-comment">// 先让v走到和u相同深度的节点</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// if (u == v) return u;</span></span><br><span class="line">    <span class="hljs-comment">// for (int k = LOG_V; k &gt;= 0; --k) &#123;</span></span><br><span class="line">    <span class="hljs-comment">//     if (anc[k][u] != anc[k][v]) &#123;</span></span><br><span class="line">    <span class="hljs-comment">//         u = anc[k][u];</span></span><br><span class="line">    <span class="hljs-comment">//         v = anc[k][v];</span></span><br><span class="line">    <span class="hljs-comment">//     &#125;</span></span><br><span class="line">    <span class="hljs-comment">// &#125;</span></span><br><span class="line">    <span class="hljs-comment">// return anc[0][u];</span></span><br><span class="line">    <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = dep[u];</span><br><span class="line">    <span class="hljs-keyword">while</span> (l &lt; r) &#123;    <span class="hljs-comment">// 二分搜索找到u、v最低的公共祖先</span></span><br><span class="line">        <span class="hljs-keyword">int</span> mid = l + (r - l) / <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (getk(u, mid) == getk(v, mid)) &#123;</span><br><span class="line">            r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            l = mid + <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> getk(u, l);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="匹配与覆盖"><a href="#匹配与覆盖" class="headerlink" title="匹配与覆盖"></a>匹配与覆盖</h3><p>占坑（</p>
<h3 id="Floyd判圈算法"><a href="#Floyd判圈算法" class="headerlink" title="Floyd判圈算法"></a>Floyd判圈算法</h3><p>$O(n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 求出环中有多少个节点</span></span><br><span class="line"><span class="hljs-keyword">int</span> n, a, b;</span><br><span class="line"><span class="hljs-keyword">while</span> (<span class="hljs-built_in">cin</span> &gt;&gt; n &amp;&amp; n) &#123;</span><br><span class="line">    <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="hljs-keyword">auto</span> nxt = [&amp;](LL x) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> (a * x % n * x + b) % n;</span><br><span class="line">    &#125;;</span><br><span class="line">    LL fast = <span class="hljs-number">0</span>, slow = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">        fast = nxt(nxt(fast));</span><br><span class="line">        slow = nxt(slow);</span><br><span class="line">    &#125; <span class="hljs-keyword">while</span> (fast != slow);</span><br><span class="line">    <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">        slow = nxt(slow);</span><br><span class="line">        ++cnt;</span><br><span class="line">    &#125; <span class="hljs-keyword">while</span> (slow != fast);</span><br><span class="line">    <span class="hljs-built_in">cout</span> &lt;&lt; n - cnt &lt;&lt; <span class="hljs-string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="欧拉通路-回路"><a href="#欧拉通路-回路" class="headerlink" title="欧拉通路/回路"></a>欧拉通路/回路</h3><p>定义：图上每条边都经过且只经过一次。</p>
<p>存在性：</p>
<ul>
<li>无向图：所有点连通且<ul>
<li>每个点的度都是偶数<strong>（回路）</strong></li>
<li>恰好两个点的度是奇数，其他都是偶数<strong>（通路）</strong>（奇数点即通路的起点与终点）</li>
</ul>
</li>
<li>有向图：所有点连通且<ul>
<li>每个点的入度都等于出度<strong>（回路）</strong></li>
<li>一个点的入度比出度大 1（终点），另一个点的出度比入度大 1（起点），其他点入度等于出度<strong>（通路）</strong></li>
</ul>
</li>
</ul>
<h2 id="字符串算法"><a href="#字符串算法" class="headerlink" title="字符串算法"></a>字符串算法</h2><h3 id="字符串哈希算法"><a href="#字符串哈希算法" class="headerlink" title="字符串哈希算法"></a>字符串哈希算法</h3><p>$O(n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-title">BKDRhash</span> <span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> seed = <span class="hljs-number">131</span>;	<span class="hljs-comment">// 31 131 1313 13131 131313 etc..</span></span><br><span class="line">    <span class="hljs-keyword">unsigned</span> hash = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (*str) &#123;</span><br><span class="line">        hash = hash * seed + (*str++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> hash % hashSize;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-title">DJBhash</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> str[])</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">unsigned</span> h = <span class="hljs-number">5381</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; str[i]; ++i) &#123;</span><br><span class="line">        h += (h &lt;&lt; <span class="hljs-number">5</span>) + (str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> h % hashSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Karp-Rabin"><a href="#Karp-Rabin" class="headerlink" title="Karp-Rabin"></a>Karp-Rabin</h3><p>preprocess： $O(n)$ </p>
<p>getval： $O(1)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> A = <span class="hljs-number">911382323</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> B = <span class="hljs-number">972663749</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> h[N]; <span class="hljs-comment">// h[k] contains the hash value of the prefix s[0...k]</span></span><br><span class="line"><span class="hljs-keyword">int</span> p[N]; <span class="hljs-comment">// p[k] == Ak mod B</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">preprocess</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> s[])</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);</span><br><span class="line">    h[<span class="hljs-number">0</span>] = s[<span class="hljs-number">0</span>];</span><br><span class="line">    p[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; len; ++i) &#123;</span><br><span class="line">        h[i] = ((LL)h[i<span class="hljs-number">-1</span>] * A + s[i]) % B;</span><br><span class="line">        p[i] = ((LL)p[i<span class="hljs-number">-1</span>] * A) % B;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getval</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123; <span class="hljs-comment">// 子串[a,b]的哈希值</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (a == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> h[b];</span><br><span class="line">    <span class="hljs-keyword">int</span> tmp = (h[b] - ((LL)h[a - <span class="hljs-number">1</span>] * p[b - a + <span class="hljs-number">1</span>]) % B) % B;</span><br><span class="line">    <span class="hljs-keyword">return</span> (tmp &lt; <span class="hljs-number">0</span> ? tmp + B : tmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Z-algorithm"><a href="#Z-algorithm" class="headerlink" title="Z-algorithm"></a>Z-algorithm</h3><p>Z数组的使用：把模式串 P 加在被匹配串 S 前，中间隔一个无干扰字符，如 P#S ，再对这个字符串计算 Z-array，则 Z-array 中值为 P 的长度的位置即是模式串出现的位置。</p>
<p>$O(n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> z[N]; <span class="hljs-comment">// z[i]为以位置i为起点的是s的前缀的最长子串的长度</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Z</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> s[])</span> </span>&#123; <span class="hljs-comment">// compute z-array</span></span><br><span class="line">    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);</span><br><span class="line">    <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; len; ++i) &#123;</span><br><span class="line">        z[i] = max(<span class="hljs-number">0</span>, min(z[i-x], y - i + <span class="hljs-number">1</span>)); <span class="hljs-comment">// 若i在[x, y]之外，则z[i]为0，否则为min(z[i-x], y - i + 1)</span></span><br><span class="line">        <span class="hljs-keyword">while</span> (i + z[i] &lt; len &amp;&amp; s[z[i]] == s[i + z[i]]) &#123;</span><br><span class="line">            x = i; y = i + z[i]; ++z[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h3><p>KMP可用来求串的最大循环节。 </p>
<p>$O(n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; kmp(<span class="hljs-keyword">const</span> T &amp;a) &#123; <span class="hljs-comment">// fail[i]是为a[0...i]的后缀的最长前缀</span></span><br><span class="line">    <span class="hljs-keyword">int</span> n = a.size();</span><br><span class="line">    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; fail(n);</span><br><span class="line">    fail[<span class="hljs-number">0</span>] = <span class="hljs-number">-1</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        fail[i] = fail[i - <span class="hljs-number">1</span>];</span><br><span class="line">        <span class="hljs-keyword">while</span> (~fail[i] &amp;&amp; a[fail[i] + <span class="hljs-number">1</span>] != a[i]) &#123;</span><br><span class="line">            fail[i] = fail[fail[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (a[fail[i] + <span class="hljs-number">1</span>] == a[i]) &#123;</span><br><span class="line">            ++fail[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> fail;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; KMP(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> &amp;s, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> &amp;p) &#123;</span><br><span class="line">    <span class="hljs-keyword">auto</span> &amp;&amp;fail = kmp(p);</span><br><span class="line">    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; i &lt; s.size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">while</span> (s[i] != p[j] &amp;&amp; j &gt; <span class="hljs-number">0</span>) j = fail[j - <span class="hljs-number">1</span>] + (fail[j - <span class="hljs-number">1</span>] != j - <span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">if</span> (s[i] == p[j]) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (++j == p.size()) &#123;</span><br><span class="line">                res.push_back(i - p.size() + <span class="hljs-number">2</span>);</span><br><span class="line">                j = fail[j - <span class="hljs-number">1</span>] + (fail[j - <span class="hljs-number">1</span>] != j - <span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="AC自动机"><a href="#AC自动机" class="headerlink" title="AC自动机"></a>AC自动机</h3><p><strong>AC自动机就是把pattern从一个字符串变成了一个trie树（即有多个pattern串，即字典）的KMP</strong> </p>
<p>建字典：$O(cS)$ (c is the size of the charset and S is the total length of all words in the trie)</p>
<p>匹配：$O(n+z)$ (n is the length of the original string and z is the total time that the patterns appear)</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// HDU 2222 2896</span></span><br><span class="line"><span class="hljs-comment">// 失配后回溯到是字典中的某个词的前缀的后缀的位置</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ACautomaton</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> trie[N][<span class="hljs-number">26</span>];</span><br><span class="line">    <span class="hljs-keyword">int</span> fail[N];</span><br><span class="line">    <span class="hljs-keyword">int</span> cnt[N];</span><br><span class="line">    <span class="hljs-keyword">int</span> tol = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">newnode</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; ++i) trie[tol][i] = <span class="hljs-number">0</span>;</span><br><span class="line">        fail[tol] = <span class="hljs-number">0</span>;</span><br><span class="line">        cnt[tol] = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> tol++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        tol = <span class="hljs-number">0</span>;</span><br><span class="line">        newnode();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> s[])</span> </span>&#123; <span class="hljs-comment">// 在字典中新加入一个词</span></span><br><span class="line">        <span class="hljs-keyword">int</span> cur = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; s[i]; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> c = s[i] - <span class="hljs-string">'a'</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (trie[cur][c] == <span class="hljs-number">0</span>) trie[cur][c] = newnode();</span><br><span class="line">            cur = trie[cur][c];</span><br><span class="line">        &#125;</span><br><span class="line">        ++cnt[cur];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">// bfs</span></span><br><span class="line">        <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;</span><br><span class="line">        q.push(<span class="hljs-number">0</span>);</span><br><span class="line">        <span class="hljs-keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> u = q.front(); q.pop();</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; ++i) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> &amp;v = trie[u][i];</span><br><span class="line">                <span class="hljs-keyword">if</span> (v) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (u != <span class="hljs-number">0</span>) fail[v] = trie[fail[u]][i]; <span class="hljs-comment">// 非根节点失配才回溯</span></span><br><span class="line">                    <span class="hljs-comment">// 如果trie[fail[u]][i]存在，即该位置就是fail节点v的失配指针</span></span><br><span class="line">                    <span class="hljs-comment">// 如果不存在，则它保存着节点fail[u]失配时的失配指针</span></span><br><span class="line">                    q.push(v);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// 不存在</span></span><br><span class="line">                    v = trie[fail[u]][i]; <span class="hljs-comment">// 保存u的失配指针</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">count</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> s[])</span> </span>&#123; <span class="hljs-comment">// 返回字典的词在s中总共出现了多少次（有重复）</span></span><br><span class="line">        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> u = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; s[i]; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> c = s[i] - <span class="hljs-string">'a'</span>;</span><br><span class="line">            u = trie[u][c];</span><br><span class="line">            <span class="hljs-keyword">int</span> p = u;</span><br><span class="line">            <span class="hljs-keyword">while</span> (p &amp;&amp; cnt[p]) &#123; <span class="hljs-comment">// 后缀</span></span><br><span class="line">                ans += cnt[p];</span><br><span class="line">                cnt[p] = <span class="hljs-number">0</span>;</span><br><span class="line">                p = fail[p];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; ac;</span><br></pre></td></tr></table></figure>

<h3 id="后缀数组"><a href="#后缀数组" class="headerlink" title="后缀数组"></a>后缀数组</h3><p>LCP：Longest Common Prefix</p>
<p>![suffix array](suffix array.png)</p>
<p>倍增法构造： $O(n\log n)$ </p>
<p>计算LCP： $O(n)$ </p>
<p>LCP定理：设$i&lt;j$，则$LCP(i,j)=\min &lt;!–￼58–&gt;\rfloor, \lfloor\frac r {n^{\frac 2 3}}\rfloor, t)$三元组从小到大排序，$t$表示这个询问之前经过了多少次修改。</p>
<p>$O(n^\frac 5 3)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// BZOJ 2120</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">udTime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> op)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> pos = ms[x].a, val = ms[x].b, pre = ms[x].p;</span><br><span class="line">    <span class="hljs-keyword">if</span> (op &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (pos &lt;= R &amp;&amp; pos &gt;= L) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (--cnt[a[pos]] == <span class="hljs-number">0</span>) --now;</span><br><span class="line">            <span class="hljs-keyword">if</span> (++cnt[val] == <span class="hljs-number">1</span>) ++now;</span><br><span class="line">        &#125;</span><br><span class="line">        a[pos] = val;</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (pos &lt;= R &amp;&amp; pos &gt;= L) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (--cnt[a[pos]] == <span class="hljs-number">0</span>) --now;</span><br><span class="line">            <span class="hljs-keyword">if</span> (++cnt[pre] == <span class="hljs-number">1</span>) ++now;</span><br><span class="line">        &#125;</span><br><span class="line">        a[pos] = pre;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> op)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line">    cnt[a[x]] += op;</span><br><span class="line">    <span class="hljs-keyword">if</span> (cnt[a[x]] == <span class="hljs-number">0</span> &amp;&amp; op &lt; <span class="hljs-number">0</span>) --now;</span><br><span class="line">    <span class="hljs-keyword">if</span> (cnt[a[x]] == <span class="hljs-number">1</span> &amp;&amp; op &gt; <span class="hljs-number">0</span>) ++now;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">moveto</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">while</span> (T &lt; t) udTime(++T, <span class="hljs-number">1</span>);</span><br><span class="line">    <span class="hljs-keyword">while</span> (T &gt; t) udTime(T--, <span class="hljs-number">-1</span>);</span><br><span class="line">    <span class="hljs-keyword">while</span> (L &lt; l) update(L++, <span class="hljs-number">-1</span>);</span><br><span class="line">    <span class="hljs-keyword">while</span> (L &gt; l) update(--L, <span class="hljs-number">1</span>);</span><br><span class="line">    <span class="hljs-keyword">while</span> (R &lt; r) update(++R, <span class="hljs-number">1</span>);</span><br><span class="line">    <span class="hljs-keyword">while</span> (R &gt; r) update(R--, <span class="hljs-number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    S = <span class="hljs-built_in">pow</span>(n, <span class="hljs-number">2.0</span> / <span class="hljs-number">3</span>);</span><br><span class="line">    sort(qs, qs + qn);</span><br><span class="line">    now = <span class="hljs-number">0</span>;</span><br><span class="line">    L = R = <span class="hljs-number">0</span>;</span><br><span class="line">    T = mn;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; qn; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">const</span> qry &amp;q = qs[i];</span><br><span class="line">        moveto(q.l, q.r, q.t);</span><br><span class="line">        ans[q.i] = now;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="枚举技巧"><a href="#枚举技巧" class="headerlink" title="枚举技巧"></a>枚举技巧</h3><h4 id="枚举排列"><a href="#枚举排列" class="headerlink" title="枚举排列"></a>枚举排列</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 比一般的生成法稍快，但生成的排列不按字典序</span></span><br><span class="line"><span class="hljs-keyword">int</span> num[N] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>&#125;;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">go</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-comment">// 函数开始时会得到一个新排列</span></span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">for</span> (; i &lt; N; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; N; ++j) &#123;</span><br><span class="line">            swap(num[i], num[j]);</span><br><span class="line">            go(i + <span class="hljs-number">1</span>);</span><br><span class="line">            swap(num[i], num[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="枚举子集"><a href="#枚举子集" class="headerlink" title="枚举子集"></a>枚举子集</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">genSub</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span> </span>&#123; <span class="hljs-comment">// s可为任意的集合</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = s; i; i = (i - <span class="hljs-number">1</span>) &amp; s) &#123;</span><br><span class="line">        <span class="hljs-comment">// i 即为一个子集</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">genRsub</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-comment">// n 为原始集合大小，枚举大小为 r 的子集</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> s = (<span class="hljs-number">1</span> &lt;&lt; r) - <span class="hljs-number">1</span>; s &lt; (<span class="hljs-number">1</span> &lt;&lt; n); ) &#123;</span><br><span class="line">        <span class="hljs-comment">// s 即为一个子集</span></span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> x = s &amp; -s, y = s + x;</span><br><span class="line">        <span class="hljs-keyword">int</span> t = s &amp; ~y;</span><br><span class="line">        s = ((t / x) &gt;&gt; <span class="hljs-number">1</span>) | y;</span><br><span class="line">        <span class="hljs-comment">// s = (t &gt;&gt; (__builtin_ctz(t) + 1)) | y; // optimization</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="位运算魔法"><a href="#位运算魔法" class="headerlink" title="位运算魔法"></a>位运算魔法</h3><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">isPowerOf2</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> (n &amp; (n<span class="hljs-number">-1</span>)) == <span class="hljs-number">0</span>; <span class="hljs-comment">// n &amp; (n-1) sets the last 1 bit of n to 0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getLargestPowerOf2</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> v)</span> </span>&#123;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">2</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">4</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">8</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">16</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> v ^ (v&gt;&gt;<span class="hljs-number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getRoundUpPowerOf2</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> v)</span> </span>&#123;</span><br><span class="line">    v--;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">2</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">4</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">8</span>;</span><br><span class="line">    v |= v &gt;&gt; <span class="hljs-number">16</span>;</span><br><span class="line">    v++;</span><br><span class="line">    <span class="hljs-keyword">return</span> v;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h3><p>$O(\log n)$ </p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 按秩求并的并查集</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123; </span><br><span class="line">    <span class="hljs-keyword">if</span> (fa[u] &lt; <span class="hljs-number">0</span>) <span class="hljs-comment">// 只有一个节点时高度为-1，因为有可能节点编号从0开始</span></span><br><span class="line">        <span class="hljs-keyword">return</span> u;</span><br><span class="line">    <span class="hljs-keyword">return</span> fa[u] = find(fa[u]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUnion</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> r1 = find(a), r2 = find(b);</span><br><span class="line">    <span class="hljs-keyword">if</span> (r1 == r2) <span class="hljs-keyword">return</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (fa[r1] &lt; fa[r2]) &#123;</span><br><span class="line">        fa[r2] = r1;</span><br><span class="line">        <span class="hljs-keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (fa[r1] == fa[r2]) &#123;</span><br><span class="line">        --fa[r2];</span><br><span class="line">    &#125;</span><br><span class="line">    fa[r1] = r2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="表达式树"><a href="#表达式树" class="headerlink" title="表达式树"></a>表达式树</h3><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ACM-ICPC 2018 沈阳赛区网络预赛 B</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> op;</span><br><span class="line">    <span class="hljs-keyword">int</span> l, r;</span><br><span class="line">&#125; tree[N];</span><br><span class="line"><span class="hljs-keyword">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-built_in">string</span> &amp;s, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">bool</span> ok = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &lt; y; ++i)</span><br><span class="line">        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isdigit</span>(s[i])) &#123;</span><br><span class="line">            ok = <span class="hljs-literal">false</span>;</span><br><span class="line">            <span class="hljs-keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (ok) &#123;</span><br><span class="line">        <span class="hljs-keyword">auto</span> &amp;u = tree[++cnt];</span><br><span class="line">        u.l = u.r = <span class="hljs-number">0</span>;</span><br><span class="line">        u.op = stoi(s.substr(x, y - x));</span><br><span class="line">        <span class="hljs-keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> p1 = <span class="hljs-number">-1</span>, p2 = <span class="hljs-number">-1</span>, p3 = <span class="hljs-number">-1</span>, p = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &lt; y; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">switch</span> (s[i]) &#123;</span><br><span class="line">            <span class="hljs-keyword">case</span> <span class="hljs-string">'('</span>:</span><br><span class="line">                p++;</span><br><span class="line">                <span class="hljs-keyword">break</span>;</span><br><span class="line">            <span class="hljs-keyword">case</span> <span class="hljs-string">')'</span>:</span><br><span class="line">                p--;</span><br><span class="line">                <span class="hljs-keyword">break</span>;</span><br><span class="line">            <span class="hljs-keyword">case</span> <span class="hljs-string">'+'</span>:</span><br><span class="line">            <span class="hljs-keyword">case</span> <span class="hljs-string">'-'</span>:</span><br><span class="line">                <span class="hljs-keyword">if</span> (!p) p1 = i;</span><br><span class="line">                <span class="hljs-keyword">break</span>;</span><br><span class="line">            <span class="hljs-keyword">case</span> <span class="hljs-string">'*'</span>:</span><br><span class="line">                <span class="hljs-keyword">if</span> (!p) p2 = i;</span><br><span class="line">                <span class="hljs-keyword">break</span>;</span><br><span class="line">            <span class="hljs-keyword">case</span> <span class="hljs-string">'d'</span>:</span><br><span class="line">                <span class="hljs-keyword">if</span> (!p &amp;&amp; p3 &lt; <span class="hljs-number">0</span>) p3 = i;</span><br><span class="line">                <span class="hljs-keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (p1 &lt; <span class="hljs-number">0</span>) p1 = p2; <span class="hljs-comment">// 没有括号外的加减号</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (p1 &lt; <span class="hljs-number">0</span>) p1 = p3; <span class="hljs-comment">// 也没有乘号</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (p1 &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> build(s, x + <span class="hljs-number">1</span>, y - <span class="hljs-number">1</span>); <span class="hljs-comment">// 也没有d，则整个表达式被括号包着</span></span><br><span class="line">    <span class="hljs-keyword">int</span> tmp = ++cnt;</span><br><span class="line">    <span class="hljs-keyword">auto</span> &amp;u = tree[tmp];</span><br><span class="line">    u.l = build(s, x, p1);</span><br><span class="line">    u.r = build(s, p1 + <span class="hljs-number">1</span>, y);</span><br><span class="line">    u.op = s[p1];</span><br><span class="line">    <span class="hljs-keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="整体二分"><a href="#整体二分" class="headerlink" title="整体二分"></a>整体二分</h3><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// BZOJ 3110：求区间第K大，支持插入（修改），查询。</span></span><br><span class="line"><span class="hljs-comment">// 对于每个查询，二分之前的修改（限定修改的值的范围，若不在范围内则不执行该修改）</span></span><br><span class="line"><span class="hljs-comment">// 由于需要对每个查询进行二分，所以需要依二分结果将操作分成两类</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> ql, <span class="hljs-keyword">int</span> qr, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (ql &gt; qr) <span class="hljs-keyword">return</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (L == R) &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = ql; i &lt;= qr; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (qs[i].op == <span class="hljs-number">2</span>) ans[qs[i].id] = L;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> t1 = <span class="hljs-number">0</span>, t2 = <span class="hljs-number">0</span>, mid = L + (R - L) / <span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = ql; i &lt;= qr; ++i) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (qs[i].op == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (qs[i].c &lt;= mid)</span><br><span class="line">                q1[t1++] = qs[i];</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                q2[t2++] = qs[i],</span><br><span class="line">                add(qs[i].a, qs[i].b, <span class="hljs-number">1</span>, -n, n, <span class="hljs-number">1</span>);  <span class="hljs-comment">// interval add</span></span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            LL tmp = sum(qs[i].a, qs[i].b, <span class="hljs-number">1</span>, -n, n);  <span class="hljs-comment">// interval sum</span></span><br><span class="line">            <span class="hljs-keyword">if</span> (tmp &lt; qs[i].c)</span><br><span class="line">                qs[i].c -= tmp, q1[t1++] = qs[i];</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                q2[t2++] = qs[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// sort queries and clear tree</span></span><br><span class="line">    <span class="hljs-keyword">int</span> qmid = ql + t1;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = ql; i &lt; qmid; ++i) &#123;</span><br><span class="line">        qs[i] = q1[i - ql];</span><br><span class="line">        <span class="hljs-keyword">if</span> (qs[i].op == <span class="hljs-number">1</span> &amp;&amp; qs[i].c &gt; mid) add(qs[i].a, qs[i].b, <span class="hljs-number">1</span>, -n, n, <span class="hljs-number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = qmid; i &lt;= qr; ++i) &#123;</span><br><span class="line">        qs[i] = q2[i - qmid];</span><br><span class="line">        <span class="hljs-keyword">if</span> (qs[i].op == <span class="hljs-number">1</span> &amp;&amp; qs[i].c &gt; mid) add(qs[i].a, qs[i].b, <span class="hljs-number">1</span>, -n, n, <span class="hljs-number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    solve(ql, qmid - <span class="hljs-number">1</span>, L, mid);</span><br><span class="line">    solve(qmid, qr, mid + <span class="hljs-number">1</span>, R);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="一些杂七杂八的东西"><a href="#一些杂七杂八的东西" class="headerlink" title="一些杂七杂八的东西"></a>一些杂七杂八的东西</h3><ol>
<li>某个元素在冒泡排序中被交换的次数等于其在逆序对中出现的次数。</li>
<li>$\lceil \frac a b \rceil = \frac {a - 1} b + 1$</li>
</ol>
<h4 id="vimrc"><a href="#vimrc" class="headerlink" title=".vimrc"></a>.vimrc</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">syntax on</span><br><span class="line">set number &quot; line number</span><br><span class="line">set cursorline &quot; show line cursor</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set softtabstop=4</span><br><span class="line">set tabstop=4</span><br><span class="line">set expandtab &quot; change tab to blank</span><br><span class="line">set autoindent</span><br><span class="line">set smartindent</span><br><span class="line">set cindent</span><br><span class="line">set showmatch &quot; show match braces</span><br><span class="line">set matchtime=3 &quot; time for vim to wait for showmatch</span><br><span class="line">set ruler</span><br><span class="line"></span><br><span class="line">nnoremap &lt;F4&gt; :w &lt;CR&gt; :!g++ % -o %&lt; --std=c++14 -Wall -Wshadow -g -fsanitize=address -fsanitize=undefined &amp;&amp; for i in ./in*; do echo $i; ./%&lt; &lt; $i; done &lt;CR&gt;</span><br></pre></td></tr></table></figure>

<h4 id="debug-template"><a href="#debug-template" class="headerlink" title="debug template"></a>debug template</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> LOCAL</span></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">is_printable_impl</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span></span></span><br><span class="line">    -&gt; decltype(cout &lt;&lt; declval&lt;T &amp;&gt;(), std::true_type&#123;&#125;);</span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-built_in">std</span>::<span class="hljs-function">false_type <span class="hljs-title">is_printable_impl</span><span class="hljs-params">(...)</span></span>;</span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-keyword">using</span> is_printable = <span class="hljs-keyword">decltype</span>(is_printable_impl&lt;T&gt;(<span class="hljs-number">0</span>));</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Tuple, <span class="hljs-keyword">size_t</span> N&gt;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TuplePrinter</span>;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">debug</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line">    <span class="hljs-keyword">typename</span> enable_if&lt;!is_printable&lt;T&gt;::value, debug &amp;&gt;::type <span class="hljs-keyword">operator</span>&lt;&lt;(</span><br><span class="line">        <span class="hljs-keyword">const</span> T &amp;x) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = begin(x); it != end(x); ++it)</span><br><span class="line">            *<span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">"["</span> &lt;&lt; i++ &lt;&lt; <span class="hljs-string">": "</span> &lt;&lt; *it &lt;&lt; <span class="hljs-string">"] "</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line">    <span class="hljs-keyword">typename</span> enable_if&lt;is_printable&lt;T&gt;::value, debug &amp;&gt;::type <span class="hljs-keyword">operator</span>&lt;&lt;(</span><br><span class="line">        <span class="hljs-keyword">const</span> T &amp;x) &#123;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; x;</span><br><span class="line">        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span> T2&gt;  <span class="hljs-comment">// pair-printer</span></span><br><span class="line">    debug &amp;<span class="hljs-keyword">operator</span>&lt;&lt;(<span class="hljs-keyword">const</span> pair&lt;T1, T2&gt; &amp;p) &#123;</span><br><span class="line">        *<span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">"&#123;"</span> &lt;&lt; p.first &lt;&lt; <span class="hljs-string">", "</span> &lt;&lt; p.second &lt;&lt; <span class="hljs-string">"&#125;"</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>... Args&gt;</span><br><span class="line">    debug &amp;<span class="hljs-keyword">operator</span>&lt;&lt;(<span class="hljs-keyword">const</span> tuple&lt;Args...&gt; &amp;t) &#123;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"("</span>;</span><br><span class="line">        TuplePrinter&lt;<span class="hljs-keyword">decltype</span>(t), <span class="hljs-keyword">sizeof</span>...(Args) - <span class="hljs-number">1</span>&gt;::print(t);</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">")"</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ~debug() &#123; <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>; &#125;</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">debug</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line">    debug &amp;<span class="hljs-keyword">operator</span>&lt;&lt;(<span class="hljs-keyword">const</span> T &amp;foo) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Tuple, <span class="hljs-keyword">size_t</span> N&gt;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TuplePrinter</span> &#123;</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Tuple &amp;t)</span> </span>&#123;</span><br><span class="line">        TuplePrinter&lt;Tuple, N - <span class="hljs-number">1</span>&gt;::print(t);</span><br><span class="line">        debug() &lt;&lt; get&lt;N&gt;(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Tuple&gt;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TuplePrinter</span>&lt;Tuple, 0&gt; &#123;</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Tuple &amp;t)</span> </span>&#123; debug() &lt;&lt; get&lt;<span class="hljs-number">0</span>&gt;(t); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> name(x) <span class="hljs-meta-string">"["</span> #x <span class="hljs-meta-string">": "</span> &lt;&lt; x &lt;&lt; <span class="hljs-meta-string">"] "</span></span></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print2d</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;T&gt;&gt; &amp;v)</span> </span>&#123;</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> LOCAL</span></span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; v.size(); ++i) &#123;</span><br><span class="line">        <span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">": "</span>;</span><br><span class="line">        debug() &lt;&lt; name(v[i]);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="对拍相关"><a href="#对拍相关" class="headerlink" title="对拍相关"></a>对拍相关</h3><h4 id="随机数生成"><a href="#随机数生成" class="headerlink" title="随机数生成"></a>随机数生成</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">mt19937 <span class="hljs-title">rng</span><span class="hljs-params">(chrono::steady_clock::now().time_since_epoch().count())</span></span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">r</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> e)</span> </span>&#123; <span class="hljs-keyword">return</span> uniform_int_distribution&lt;<span class="hljs-keyword">int</span>&gt;(s, e)(rng); &#125;</span><br></pre></td></tr></table></figure>

<h4 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 对拍</span><br><span class="line">@echo off</span><br><span class="line">:loop</span><br><span class="line">    data &gt; input.txt</span><br><span class="line">    main &lt; input.txt &gt; output.txt</span><br><span class="line">    test &lt; input.txt &gt; answer.txt</span><br><span class="line">    fc output.txt answer.txt &gt; nul</span><br><span class="line">if not errorlevel 1 goto loop</span><br><span class="line"></span><br><span class="line">// checker</span><br><span class="line">@echo off</span><br><span class="line">:loop</span><br><span class="line">    data &gt; input.txt</span><br><span class="line">    main &lt; input.txt &gt; output.txt</span><br><span class="line">    test &lt; output.txt</span><br><span class="line">if not errorlevel 1 goto loop</span><br></pre></td></tr></table></figure>

<h4 id="树数据生成"><a href="#树数据生成" class="headerlink" title="树数据生成"></a>树数据生成</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> n = r(<span class="hljs-number">2</span>, <span class="hljs-number">20</span>);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d %d\n"</span>, r(<span class="hljs-number">1</span>, i - <span class="hljs-number">1</span>), i); <span class="hljs-comment">// 前者是后者的父节点</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/10/05/训练心得/" class="image is-7by1">
            <img class="thumbnail" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1571550143261&amp;di=9d312602223e3f392eb6769071f219b4&amp;imgtype=0&amp;src=http%3A%2F%2Ficpc.kateb.edu.af%2Fassets%2Fimg%2Fsponsors%2Facm_new.png" alt="训练心得">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-05T14:17:49.369Z">2019-10-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ACM入门/">ACM入门</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    22 minutes read (About 3308 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/05/训练心得/">训练心得</a>
            
        </h1>
        <div class="content">
            <h2 id="hdoj-1019"><a href="#hdoj-1019" class="headerlink" title="hdoj 1019"></a>hdoj 1019</h2><p>lcm，gcd</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">gcd</span><span class="hljs-params">(ll a,ll b)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> b == <span class="hljs-number">0</span> ? a :gcd(b,a%b); <span class="hljs-comment">//这个一定要记住</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">lcm</span><span class="hljs-params">(ll c,ll d)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> c/gcd(c,d)*d; <span class="hljs-comment">//先除后乘</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> n,m;</span><br><span class="line">    ll a=<span class="hljs-number">1</span>;</span><br><span class="line">    ll b;</span><br><span class="line">    <span class="hljs-keyword">while</span> (~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;n) &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">while</span> (n--)</span><br><span class="line">        &#123;</span><br><span class="line">            a=<span class="hljs-number">1</span>;</span><br><span class="line">           <span class="hljs-built_in">cin</span>&gt;&gt;m;</span><br><span class="line">           <span class="hljs-keyword">while</span> (m--)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="hljs-built_in">cin</span>&gt;&gt;b;  <span class="hljs-comment">//如果第一组要处理两组数据的话，但是后面只是一个一个来，那就和第一个进行处理</span></span><br><span class="line">               </span><br><span class="line">               a=lcm(a,b);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="hljs-built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="hljs-built_in">endl</span>; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/10/05/训练心得/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-22T08:23:45.863Z">2019-09-22</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 283 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/22/hello-world/">Hello World</a>
            
        </h1>
        <div class="content">
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="hljs-string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
<p>1.出现 error deployer not found:git 或者 error deployer not found:github 的错误<br>解决办法：执行 <code>npm install hexo-deployer-git --save</code></p>
<p>2.出现类似 FATAL can not read a block mapping entry; a multiline key may not be an implicit key at line 70, column 1: … 错误<br>解决办法：_config.yml中配置项的冒号后面要用空格隔开，再跟内容</p>
<p>3.中文乱码问题<br>解决办法：将文件的内容编码改为UTF8格式</p>
<p>4.’hexo sever’能够成功运行，但是localhost:4000无法访问<br>解决办法：执行<code>hexo s -p 5000</code>，改用其他端口启动</p>
<p>hexo command not found 加入环境变量</p>
<p>node 没有的话就是没装nodejs</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/page/6/">Previous</a>
        </div>
        <div class="pagination-next is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/page/8/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/6/">6</a></li>
            
            <li><a class="pagination-link is-current" href="/page/7/">7</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/大一学习BLOG/themes/icarus/source/images/WalterJ726.jpg" alt="WalterJ726">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        WalterJ726
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Geek
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Exchange in Hangzhou</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        70
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        14
                    </p>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/WalterJ726">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/ppoffice" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://weibo.com/p/1005055187006158" target="_blank">
                    <span class="level-left">
                        <span class="level-item">微博</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">weibo.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ACMer/">
            <span class="level-start">
                <span class="level-item">ACMer</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ACM入门/">
            <span class="level-start">
                <span class="level-item">ACM入门</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/String/">
            <span class="level-start">
                <span class="level-item">String</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/动态规划/">
            <span class="level-start">
                <span class="level-item">动态规划</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/图论/">
            <span class="level-start">
                <span class="level-item">图论</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/多任务编程/">
            <span class="level-start">
                <span class="level-item">多任务编程</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/大二上/">
            <span class="level-start">
                <span class="level-item">大二上</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/搜索/">
            <span class="level-start">
                <span class="level-item">搜索</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/搜索二分/">
            <span class="level-start">
                <span class="level-item">搜索二分</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/操作系统/">
            <span class="level-start">
                <span class="level-item">操作系统</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/数论/">
            <span class="level-start">
                <span class="level-item">数论</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电脑配置/">
            <span class="level-start">
                <span class="level-item">电脑配置</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/网络通信概述/">
            <span class="level-start">
                <span class="level-item">网络通信概述</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/递推与DP/">
            <span class="level-start">
                <span class="level-item">递推与DP</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/高级数据结构/">
            <span class="level-start">
                <span class="level-item">高级数据结构</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/ACM/" style="font-size: 10px;">ACM</a> <a href="/tags/ACM-learning-process/" style="font-size: 15px;">ACM learning process</a> <a href="/tags/ACMer/" style="font-size: 20px;">ACMer</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/STL/" style="font-size: 10px;">STL</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/多任务/" style="font-size: 10px;">多任务</a> <a href="/tags/搭建网站/" style="font-size: 10px;">搭建网站</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/时间表/" style="font-size: 10px;">时间表</a> <a href="/tags/编程环境/" style="font-size: 10px;">编程环境</a>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/02/11/寒假时间安排/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-11T07:24:08.412Z">2020-02-11</time></div>
                    <a href="/2020/02/11/寒假时间安排/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/11/机器学习开营模式/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-11T06:00:53.512Z">2020-02-11</time></div>
                    <a href="/2020/02/11/机器学习开营模式/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/09/蓝桥杯8 （枚举模拟排序习题课）/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-09T14:22:56.225Z">2020-02-09</time></div>
                    <a href="/2020/02/09/蓝桥杯8 （枚举模拟排序习题课）/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/09/蓝桥杯14讲/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-09T06:33:33.399Z">2020-02-09</time></div>
                    <a href="/2020/02/09/蓝桥杯14讲/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/06/电脑平时技巧/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-06T01:51:02.744Z">2020-02-06</time></div>
                    <a href="/2020/02/06/电脑平时技巧/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">January 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">12</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">October 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">September 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ACM/">
                        <span class="tag">ACM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ACM-learning-process/">
                        <span class="tag">ACM learning process</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ACMer/">
                        <span class="tag">ACMer</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MySQL/">
                        <span class="tag">MySQL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/STL/">
                        <span class="tag">STL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多任务/">
                        <span class="tag">多任务</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/搭建网站/">
                        <span class="tag">搭建网站</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据库/">
                        <span class="tag">数据库</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间表/">
                        <span class="tag">时间表</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/编程环境/">
                        <span class="tag">编程环境</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/02/11/寒假时间安排/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-11T07:24:08.412Z">2020-02-11</time></div>
                    <a href="/2020/02/11/寒假时间安排/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/11/机器学习开营模式/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-11T06:00:53.512Z">2020-02-11</time></div>
                    <a href="/2020/02/11/机器学习开营模式/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/09/蓝桥杯8 （枚举模拟排序习题课）/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-09T14:22:56.225Z">2020-02-09</time></div>
                    <a href="/2020/02/09/蓝桥杯8 （枚举模拟排序习题课）/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/09/蓝桥杯14讲/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-09T06:33:33.399Z">2020-02-09</time></div>
                    <a href="/2020/02/09/蓝桥杯14讲/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/06/电脑平时技巧/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-06T01:51:02.744Z">2020-02-06</time></div>
                    <a href="/2020/02/06/电脑平时技巧/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">January 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">12</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">October 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">September 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ACM/">
                        <span class="tag">ACM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ACM-learning-process/">
                        <span class="tag">ACM learning process</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ACMer/">
                        <span class="tag">ACMer</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MySQL/">
                        <span class="tag">MySQL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/STL/">
                        <span class="tag">STL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多任务/">
                        <span class="tag">多任务</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/搭建网站/">
                        <span class="tag">搭建网站</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据库/">
                        <span class="tag">数据库</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间表/">
                        <span class="tag">时间表</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/编程环境/">
                        <span class="tag">编程环境</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="WalterJ726" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 WalterJ726&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
<script src="/js/animation.js"></script>

    
    
<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>

    
    
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>

    
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>
    
    
<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>

    
    
    
    
    
    
    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>